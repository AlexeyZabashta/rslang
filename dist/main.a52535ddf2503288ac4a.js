(()=>{"use strict";var n={307:(n,t,e)=>{e.r(t)},607:function(n,t,e){var a=this&&this.__awaiter||function(n,t,e,a){return new(e||(e=Promise))((function(s,o){function i(n){try{c(a.next(n))}catch(n){o(n)}}function r(n){try{c(a.throw(n))}catch(n){o(n)}}function c(n){var t;n.done?s(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(i,r)}c((a=a.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),e(307);const s=e(388),o=e(834),i=e(332);e(159),e(1),e(159),e(332),function(){a(this,void 0,void 0,(function*(){s.startFlag.push(!0);{const n={group:5,page:0};s.groupPage.push(n),(0,s.createMassFalse)(5,0);const t=yield(0,i.getWords)(5,0);t.map((n=>s.answers.push(n))),(0,o.sprintDOM)(t[0].word)}}))}()},1:(n,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clickAudioGame=t.indWordAudio=t.answersAudio=void 0,t.answersAudio=[],t.indWordAudio=[],t.clickAudioGame=function(n,t){console.log("сработала функция клика",n+1,t);const e=document.querySelector(`#audio_answer_variant${n}`);t?e.classList.add("right"):e.classList.add("false")}},159:function(n,t,e){var a=this&&this.__awaiter||function(n,t,e,a){return new(e||(e=Promise))((function(s,o){function i(n){try{c(a.next(n))}catch(n){o(n)}}function r(n){try{c(a.throw(n))}catch(n){o(n)}}function c(n){var t;n.done?s(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(i,r)}c((a=a.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.audioDOM=t.rightAnswNum=t.falseAnswersAudio=void 0;const s=e(365),o=e(388),i=e(1),r=e(1);t.falseAnswersAudio=[],t.rightAnswNum=[];let c=0;function d(){document.querySelector(".hide_info").classList.add("active"),document.querySelector("#next_word_btn").disabled=!1}function u(n){document.querySelectorAll(".btn_word_variant").forEach(((t,e)=>a(this,void 0,void 0,(function*(){t.disabled=!0,n!==e&&t.classList.add("block")}))))}function l(n,e,s){return a(this,void 0,void 0,(function*(){if(n===e)return console.log("верный ответ на кнопке",n+1),s;const a=(0,o.randomDiap)(0,19);return t.falseAnswersAudio[a].wordTranslate}))}t.audioDOM=n=>a(void 0,void 0,void 0,(function*(){const e=(0,o.randomDiap)(0,4);console.log("верная кнопка: ",e+1),t.rightAnswNum.push(e),s.body.innerHTML=`<section class="wrapper_audioGame">\n  <div class="word_block">\n    <audio id="audioGame_audio" src="http://localhost:2020/${n.audio}"></audio>\n    <div class="hide_info">\n      <div class="audio_img" style="background-image: url('http://localhost:2020/${n.image}');"></div>    \n      <div class="audio_answer">${n.word} (${n.wordTranslate})</div>\n    </div>\n    <button id="play_word">\n      <img src="../src/assets/volume.svg" id="play_word_audio">        \n    </button>      \n  </div>\n  <div class="word_variants">\n    <div class="word_variant">\n      <span class="audio_answer_variant" id="audio_answer_variant0"></span>\n      <button class="btn_word_variant" id="btn_word_variant0">${yield l(0,e,n.wordTranslate)}</button>\n    </div>\n    <div class="word_variant">\n      <span class="audio_answer_variant" id="audio_answer_variant1"></span>\n      <button class="btn_word_variant" id="btn_word_variant1">${yield l(1,e,n.wordTranslate)}</button>\n    </div>\n    <div class="word_variant">\n      <span class="audio_answer_variant" id="audio_answer_variant2"></span>\n      <button class="btn_word_variant" id="btn_word_variant2">${yield l(2,e,n.wordTranslate)}</button>\n    </div>\n    <div class="word_variant">\n      <span class="audio_answer_variant" id="audio_answer_variant3"></span>\n      <button class="btn_word_variant" id="btn_word_variant3">${yield l(3,e,n.wordTranslate)}</button>\n    </div>\n    <div class="word_variant">\n      <span class="audio_answer_variant" id="audio_answer_variant4"></span>\n      <button class="btn_word_variant" id="btn_word_variant4">${yield l(4,e,n.wordTranslate)}</button>\n    </div>\n  </div>\n  <div class="next_word">\n    <button id="idk">Не знаю</button>\n    <button id="next_word_btn" disabled>&#8594;</button>\n  </div>\n  </section>`,function(n){const t=document.querySelector(".word_variants"),e=document.querySelector("#idk");e.addEventListener("click",(()=>{e.disabled=!0,function(n){document.querySelector(`#audio_answer_variant${n}`).classList.add("right"),u(n),d()}(n)})),t.addEventListener("click",(t=>{if(t.target.classList.contains("btn_word_variant")){const a=t.target.id,s=Number(a[a.length-1]);e.disabled=!0,u(s),d(),s===n?(0,r.clickAudioGame)(s,!0):(0,r.clickAudioGame)(s,!1)}}))}(e),document.querySelector("#next_word_btn").addEventListener("click",(()=>{c+=1,(0,t.audioDOM)(i.answersAudio[c])})),s.body.classList.add("active");const a=document.querySelector("#audioGame_audio");a.play(),document.querySelector("#play_word").addEventListener("click",(()=>{a.play()}))}))},917:function(n,t){var e=this&&this.__awaiter||function(n,t,e,a){return new(e||(e=Promise))((function(s,o){function i(n){try{c(a.next(n))}catch(n){o(n)}}function r(n){try{c(a.throw(n))}catch(n){o(n)}}function c(n){var t;n.done?s(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(i,r)}c((a=a.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.checkBonus=t.addDOMVariables=t.gameTimer=void 0;let a,s,o,i,r,c,d,u,l,v,_,f,w=0,h=0,m=!1,p=!1;function b(){const n=o;switch(!0){case w>=0&&w<4:o=10;break;case w>=4&&w<7:o=20,r.classList.add("active");break;case w>=7&&w<9:o=40,c.classList.add("active");break;case 10===w:o=80,d.classList.add("active")}n<o&&function(){e(this,void 0,void 0,(function*(){_.src="../src/assets/audio/bonus.mp3",_.play()}))}()}function g(){return e(this,void 0,void 0,(function*(){l.play();let n=60,t=setTimeout((function e(){n>0?(n-=1,f.textContent=`${n}`,t=setTimeout(e,1e3)):clearTimeout(t)}),1e3)}))}t.gameTimer=g,t.addDOMVariables=function(){a=document.querySelectorAll(".bonus_circle"),u=document.querySelectorAll(".bonus_icon"),s=document.querySelector(".total_score"),i=document.querySelector(".bonus_size"),r=document.querySelector(".big"),c=document.querySelector(".boom"),d=document.querySelector(".flash"),f=document.querySelector(".timer_value"),l=document.querySelector("#game_timer"),v=document.querySelector("#answer_sound"),_=document.querySelector("#answer_bonus"),window.addEventListener("click",(()=>{p||(p=!0,g())})),m=!0},t.checkBonus=function(n){n?(10!==w&&(w+=1,b(),function(){switch(w%a.length){case 0:a[2].classList.add("active");break;case 1:a.forEach((n=>n.classList.remove("active"))),a[0].classList.add("active");break;case 2:a[1].classList.add("active")}}(),10===w&&(a[0].classList.add("max"),a[1].classList.add("active"),a[2].classList.add("max"))),h+=o):(w=0,b(),a.forEach((n=>{n.classList.remove("active"),n.classList.remove("max")})),u.forEach((n=>{n.classList.remove("active")}))),w<4?i.classList.remove("active"):i.classList.add("active"),function(n){e(this,void 0,void 0,(function*(){n?(v.src="../src/assets/audio/right2.mp3",v.play()):(v.src="../src/assets/audio/wrong2.mp3",v.play())}))}(n),i.innerHTML=`+${o} очков за слово`,s.innerHTML=`${h}`}},388:function(n,t,e){var a=this&&this.__awaiter||function(n,t,e,a){return new(e||(e=Promise))((function(s,o){function i(n){try{c(a.next(n))}catch(n){o(n)}}function r(n){try{c(a.throw(n))}catch(n){o(n)}}function c(n){var t;n.done?s(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(i,r)}c((a=a.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.checkAnsw=t.createMassFalse=t.trueAnsw=t.falseAnsw=t.answerVariant=t.randomDiap=t.startFlag=t.groupPage=t.answers=void 0;const s=e(917),o=e(332);t.answers=[],t.groupPage=[],t.startFlag=[];let i,r=[],c=0;function d(n,t){return Math.floor(Math.random()*(t-n+1))+n}function u(){return a(this,void 0,void 0,(function*(){return 1===Math.round(Math.random())?(i=!0,t.answers[c].wordTranslate):(i=!1,r[d(0,19)].wordTranslate)}))}function l(){return a(this,void 0,void 0,(function*(){const n=document.querySelector(".engl_word"),e=document.querySelector(".translate_engl_word");n.textContent=t.answers[c].word,e.textContent=yield u()}))}function v(){return a(this,void 0,void 0,(function*(){const n=document.querySelector(".answ_result_false");n.classList.add("click"),n.ontransitionend=function(){n.classList.remove("click")}}))}function _(){return a(this,void 0,void 0,(function*(){const n=document.querySelector(".answ_result_right");n.classList.add("click"),n.ontransitionend=function(){n.classList.remove("click")}}))}function f(n,t){return a(this,void 0,void 0,(function*(){r=n<5?yield(0,o.getWords)(n+1,t):yield(0,o.getWords)(n-1,t)}))}t.randomDiap=d,t.answerVariant=u,t.falseAnsw=v,t.trueAnsw=_,t.createMassFalse=f,t.checkAnsw=function(n){return a(this,void 0,void 0,(function*(){console.log("val: ",n,"answerFlag: ",i),console.log("if result: ",n===i),i===n?(_(),(0,s.checkBonus)(!0)):((0,s.checkBonus)(!1),v()),yield function(){return a(this,void 0,void 0,(function*(){const n=t.groupPage[0].page,e=t.groupPage[0].group;if(c<19)c+=1;else{c=0,t.answers.length=0;const a=function(n){return n>0?n-1:29}(n);(yield(0,o.getWords)(e,a)).map((n=>t.answers.push(n))),yield f(e,a),l()}}))}(),l()}))}},365:(n,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.body=void 0,t.body=document.querySelector("body")},332:function(n,t){var e=this&&this.__awaiter||function(n,t,e,a){return new(e||(e=Promise))((function(s,o){function i(n){try{c(a.next(n))}catch(n){o(n)}}function r(n){try{c(a.throw(n))}catch(n){o(n)}}function c(n){var t;n.done?s(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(i,r)}c((a=a.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getAggrWords=t.getWords=void 0,t.getWords=(n,t)=>e(void 0,void 0,void 0,(function*(){const e=yield fetch(`http://localhost:2020/words?page=${t}&group=${n}`,{method:"GET"});return yield e.json()})),t.getAggrWords=function(n,t){return e(this,void 0,void 0,(function*(){const e=JSON.parse(String(localStorage.getItem("userData"))),a=yield fetch(`http://localhost:2020/users/${e.userId}/aggregatedWords?&filter={"$and":[{"group": ${n}},{"page": ${t}},{"userWord.difficulty":"hard"}]}&wordsPerPage=20`,{method:"GET",headers:{Authorization:`Bearer ${e.token}`,Accept:"application/json","Content-Type":"application/json"}});return yield a.json()}))}},834:function(n,t,e){var a=this&&this.__awaiter||function(n,t,e,a){return new(e||(e=Promise))((function(s,o){function i(n){try{c(a.next(n))}catch(n){o(n)}}function r(n){try{c(a.throw(n))}catch(n){o(n)}}function c(n){var t;n.done?s(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(i,r)}c((a=a.apply(n,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.sprintDOM=void 0;const s=e(388),o=e(917),i=e(365);t.sprintDOM=n=>a(void 0,void 0,void 0,(function*(){i.body.innerHTML=`<section class="wrapper_minigame">\n  <audio id="game_timer" src="../src/assets/audio/timer.mp3"></audio>\n  <audio id="answer_sound"></audio>\n  <audio id="answer_bonus"></audio>\n  <h2 class="total_score">0</h2>\n  <div class="game_content_wrapper">\n    <div class="bonus_carousel_wrapper">\n      <div class="bonus_carousel">\n        <div class="bonus_circle"></div>\n        <div class="bonus_circle"></div>\n        <div class="bonus_circle"></div>\n      </div>\n      <h3 class="bonus_size">очков за слово</h3>        \n    </div>\n    <div class="game_content">\n      <div class="bonus_icon_wrapper">\n        <img src="../src/assets/red.png" class="bonus_icon" id="red">\n        <img src="../src/assets/big.png" class="bonus_icon big" id="big">\n        <img src="../src/assets/boom.png" class="bonus_icon boom" id="boom">\n        <img src="../src/assets/flash.png" class="bonus_icon flash" id="flash">\n      </div>\n      <div class="engl_word">${n}</div>\n      <div class="translate_engl_word">${yield(0,s.answerVariant)()}</div>\n    </div>\n    <div class="answer_wrapper">\n      <button class="answ_btn" id="answ_false">Неверно</button>\n      <button class="answ_btn" id="answ_true">Верно</button>\n    </div>\n    <img class="answ_result_right" src="../src/assets/true2.svg">\n    <img class="answ_result_false" src="../src/assets/false2.svg">\n  </div>\n  <div class="timer_value">60</div>\n</section>`,document.querySelector("#answ_false").addEventListener("click",(()=>(0,s.checkAnsw)(!1))),document.querySelector("#answ_true").addEventListener("click",(()=>(0,s.checkAnsw)(!0))),(0,o.addDOMVariables)(),i.body.classList.add("active")}))}},t={};function e(a){var s=t[a];if(void 0!==s)return s.exports;var o=t[a]={exports:{}};return n[a].call(o.exports,o,o.exports,e),o.exports}e.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e(607)})();