(()=>{"use strict";var e={235:(e,t,n)=>{n.r(t)},177:(e,t,n)=>{n.r(t)},307:(e,t,n)=>{n.r(t)},120:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function r(e){try{d(o.next(e))}catch(e){i(e)}}function s(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.startMiniGame=t.groupPage=t.gameFlag=t.startFlag=void 0,n(307);const a=n(388),i=n(834),r=n(332),s=n(1),d=n(159);t.startFlag=[],t.gameFlag=[],t.groupPage=[],t.startMiniGame=function(e,n,c,l){return o(this,void 0,void 0,(function*(){yield(0,s.clearIndexAudio)(),(0,a.sprintDefaultIndex)(),t.startFlag.push(n),t.gameFlag.push(e);const u={group:c,page:l};t.groupPage.push(u),t.gameFlag[0]?function(e,t,n){o(this,void 0,void 0,(function*(){if(yield(0,a.createMassFalse)(t,n),localStorage.getItem("userData")){const e=yield(0,r.buildMassSprint)(t,n);e.map((e=>a.answers.push(e))),(0,i.sprintDOM)(e[0].word).then((()=>(0,a.gameTimer)()))}else{const e=yield(0,r.getWordsMiniGame)(t,n);e.map((e=>a.answers.push(e))),yield(0,i.sprintDOM)(e[0].word).then((()=>(0,a.gameTimer)()))}}))}(0,c,l):function(e,t,n){o(this,void 0,void 0,(function*(){if(yield(0,s.createMassFalseAudio)(t,n),localStorage.getItem("userData")){const e=yield(0,r.buildMassSprint)(t,n);e.map((e=>s.answersAudio.push(e))),(0,d.audioDOM)(e[0])}else{const e=yield(0,r.getWordsMiniGame)(t,n);e.map((e=>s.answersAudio.push(e))),(0,d.audioDOM)(e[0])}}))}(0,c,l)}))}},1:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function r(e){try{d(o.next(e))}catch(e){i(e)}}function s(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateAudioGameDom=t.indexVariant=t.addListnersAudioGame=t.clearIndexAudio=t.hideInfo=t.clickAudioGame=t.createMassFalseAudio=t.answersAudio=void 0;const a=n(159),i=n(388),r=n(332),s=n(120),d=n(188),c=n(510),l=[];t.answersAudio=[];let u=0,p=0,g=0,v=0;function m(e,t){const n=document.querySelector(`#audio_answer_variant${e}`);t?n.classList.add("right"):n.classList.add("false")}function h(){document.querySelector(".hide_info").classList.add("active"),document.querySelector("#next_word_btn").disabled=!1}function f(e){document.querySelectorAll(".btn_word_variant").forEach(((t,n)=>o(this,void 0,void 0,(function*(){t.disabled=!0,e!==n&&t.classList.add("block")}))))}function _(e,t){return o(this,void 0,void 0,(function*(){if(t>0){const n=t-1;return s.groupPage[0].page=n,0===(yield(0,r.buildMassSprint)(e,n)).length&&(yield _(e,n)),n}return!1}))}function b(){return o(this,void 0,void 0,(function*(){s.startFlag.length=0,s.gameFlag.length=0,l.length=0,t.answersAudio.length=0,u=0,p=0,g=0,v=0}))}function y(){return o(this,void 0,void 0,(function*(){const e=document.querySelector(".wrapper_audioGame"),n=document.querySelector(".end_audio_train_wrapper"),a=document.querySelector(".end_game_total"),i=document.querySelector(".end_game_series"),l=document.querySelector(".end_game_percent"),p=document.querySelector("#end_game_textbook"),m=document.querySelector("#end_game_mainmenu"),h=document.querySelector("#end_game_nextPage"),f=document.querySelector(".end_audio_info");e.classList.add("block"),n.classList.add("active"),h.classList.add("active"),h.addEventListener("click",(()=>o(this,void 0,void 0,(function*(){if(localStorage.getItem("userData")){const e=yield _(s.groupPage[0].group,s.groupPage[0].page);"number"==typeof e?(0,s.startMiniGame)(!1,!1,s.groupPage[0].group,e):(f.classList.add("active"),setTimeout((()=>{f.classList.remove("active")}),1e3))}else{const e=yield function(){return o(this,void 0,void 0,(function*(){const{page:e}=s.groupPage[0];if(e<29){const t=e+1;return s.groupPage[0].page=t,t}return s.groupPage[0].page=0,0}))}();(0,s.startMiniGame)(!1,!0,s.groupPage[0].group,e)}})))),a.innerHTML=`Total words: ${t.answersAudio.length}`,i.innerHTML=`Best answer series: ${g}`;const y=Number((v/u*100).toFixed(1));l.innerHTML=u>0?`Answered correctly:  ${y}%`:"Answered correctly:  0",yield(0,r.checkGetUserStatus)(y,g),b(),p.addEventListener("click",d.renderTextbookPage),m.addEventListener("click",c.homePage)}))}function S(e){return o(this,void 0,void 0,(function*(){localStorage.getItem("userData")&&(0,r.checkGetWordStatus)(s.groupPage[0].group,s.groupPage[0].page,t.answersAudio[u].id,e)}))}function w(){const e=(0,i.randomDiap)(0,19);return t.indexVariant.indexOf(e)>=0&&w(),t.indexVariant.push(e),e}t.createMassFalseAudio=function(e,t){return o(this,void 0,void 0,(function*(){l.length=0,e<5?(yield(0,r.getWordsMiniGame)(e+1,t)).map((e=>l.push(e))):(yield(0,r.getWordsMiniGame)(e-1,t)).map((e=>l.push(e)))}))},t.clickAudioGame=m,t.hideInfo=h,t.clearIndexAudio=b,t.addListnersAudioGame=function(e){const n=document.querySelector("#idk");n.addEventListener("click",(()=>{n.disabled=!0,function(e){document.querySelector(`#audio_answer_variant${e}`).classList.add("right"),f(e),h()}(e),S(!1)})),document.querySelector("#next_word_btn").addEventListener("click",(()=>o(this,void 0,void 0,(function*(){u+=1,u<t.answersAudio.length-1?(0,a.audioDOM)(t.answersAudio[u]):y()}))));const i=document.querySelector("#audioGame_audio");i.play(),document.querySelector("#play_word").addEventListener("click",(()=>{i.play()})),document.querySelector(".word_variants").addEventListener("click",(t=>{if(t.target.classList.contains("btn_word_variant")){const a=t.target.id,i=Number(a[a.length-1]);n.disabled=!0,f(i),h(),function(e,t){o(this,void 0,void 0,(function*(){e===t?(p+=1,v+=1,m(e,!0),S(!0)):(g=g>p?g:p,p=0,m(e,!1),S(!1))}))}(i,e)}}))},t.indexVariant=[],t.updateAudioGameDom=function(e,t,n){return o(this,void 0,void 0,(function*(){if(e===t)return n;const o=w();return l[o].wordTranslate}))}},159:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function r(e){try{d(o.next(e))}catch(e){i(e)}}function s(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.audioDOM=t.rightAnswNum=void 0;const a=n(388),i=n(1);t.rightAnswNum=[],t.audioDOM=e=>o(void 0,void 0,void 0,(function*(){const n=document.querySelector(".main"),o=(0,a.randomDiap)(0,4);t.rightAnswNum.push(o),n.innerHTML=`\n  <section class="wrapper_audioGame">\n    <div class="audioGame_content">\n    <div class="word_block">\n      <audio id="audioGame_audio" src="http://alexrslangproject.herokuapp.com/${e.audio}"></audio>\n      <div class="hide_info">\n        <div class="audio_img" style="background-image: url('http://alexrslangproject.herokuapp.com/${e.image}');"></div>    \n        <div class="audio_answer">${e.word} (${e.wordTranslate})</div>\n      </div>\n      <button id="play_word"></button>      \n    </div>\n    <div class="word_variants">\n      <div class="word_variant">\n        <span class="audio_answer_variant" id="audio_answer_variant0"></span>\n        <button class="btn_word_variant" id="btn_word_variant0">${yield(0,i.updateAudioGameDom)(0,o,e.wordTranslate)}</button>\n      </div>\n      <div class="word_variant">\n        <span class="audio_answer_variant" id="audio_answer_variant1"></span>\n        <button class="btn_word_variant" id="btn_word_variant1">${yield(0,i.updateAudioGameDom)(1,o,e.wordTranslate)}</button>\n      </div>\n      <div class="word_variant">\n        <span class="audio_answer_variant" id="audio_answer_variant2"></span>\n        <button class="btn_word_variant" id="btn_word_variant2">${yield(0,i.updateAudioGameDom)(2,o,e.wordTranslate)}</button>\n      </div>\n      <div class="word_variant">\n        <span class="audio_answer_variant" id="audio_answer_variant3"></span>\n        <button class="btn_word_variant" id="btn_word_variant3">${yield(0,i.updateAudioGameDom)(3,o,e.wordTranslate)}</button>\n      </div>\n      <div class="word_variant">\n        <span class="audio_answer_variant" id="audio_answer_variant4"></span>\n        <button class="btn_word_variant" id="btn_word_variant4">${yield(0,i.updateAudioGameDom)(4,o,e.wordTranslate)}</button>\n      </div>\n    </div>\n    <div class="next_word">\n      <button id="idk">True answer</button>\n      <button id="next_word_btn" disabled>Next word</button>\n    </div>    \n  </section>\n  <section class="end_audio_train_wrapper">\n    <div class="end_audio_train">    \n        <div class="end_game_total"></div>\n        <div class="end_game_series"></div>\n        <div class="end_game_percent"></div>\n        <button id="end_game_textbook">Back to TextBook</button>\n        <button id="end_game_mainmenu">Back to Home page</button>\n        <button id="end_game_nextPage">Start next train</button>\n    </div>\n    <div class="end_audio_info">\n    The completed pages in the textbook are over!<br>\n    Back to Menu or Text Book for play again    \n    </div>\n    </div>\n  </section>`,(0,i.addListnersAudioGame)(o),i.indexVariant.length=0}))},917:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function r(e){try{d(o.next(e))}catch(e){i(e)}}function s(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.checkBonus=t.addDOMVariables=t.massPoint=void 0;let o,a,i,r,s=0;t.massPoint=[0];let d,c,l,u,p,g,v=!1;function m(){const e=i;switch(!0){case s>=0&&s<4:i=10;break;case s>=4&&s<7:i=20,d.classList.add("active");break;case s>=7&&s<9:i=40,c.classList.add("active");break;case 10===s:i=80,l.classList.add("active")}e<i&&function(){n(this,void 0,void 0,(function*(){g.src="../rslang/src/assets/audio/bonus.mp3",g.play()}))}()}t.addDOMVariables=function(){o=document.querySelectorAll(".bonus_circle"),u=document.querySelectorAll(".bonus_icon"),a=document.querySelector(".total_score"),r=document.querySelector(".bonus_size"),d=document.querySelector(".big"),c=document.querySelector(".boom"),l=document.querySelector(".flash"),p=document.querySelector("#answer_sound"),g=document.querySelector("#answer_bonus"),v=!0},t.checkBonus=function(e){e?(10!==s&&(s+=1,m(),function(){switch(s%o.length){case 0:o[2].classList.add("active");break;case 1:o.forEach((e=>e.classList.remove("active"))),o[0].classList.add("active");break;case 2:o[1].classList.add("active")}}(),10===s&&(o[0].classList.add("max"),o[1].classList.add("active"),o[2].classList.add("max"))),t.massPoint[0]+=i):(s=0,m(),o.forEach((e=>{e.classList.remove("active"),e.classList.remove("max")})),u.forEach((e=>{e.classList.remove("active")}))),s<4?r.classList.remove("active"):r.classList.add("active"),function(e){n(this,void 0,void 0,(function*(){e?(p.src="../rslang/src/assets/audio/right2.mp3",p.play()):(p.src="../rslang/src/assets/audio/wrong2.mp3",p.play())}))}(e),r.innerHTML=`+${i} очков за слово`,a.innerHTML=`${t.massPoint[0]}`}},388:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function r(e){try{d(o.next(e))}catch(e){i(e)}}function s(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.checkAnsw=t.checkAuthSprint=t.gameTimer=t.createSprintResult=t.createMassFalse=t.trueAnsw=t.falseAnsw=t.answerVariant=t.randomDiap=t.sprintDefaultIndex=t.answersTextBook=t.answers=void 0;const a=n(917),i=n(120),r=n(332),s=n(834);t.answers=[],t.answersTextBook=[];let d,c,l,u=[],p=[],g=0,v=0,m=0,h=0,f=0;function _(e,t){return Math.floor(Math.random()*(t-e+1))+e}function b(){return o(this,void 0,void 0,(function*(){return 1===Math.round(Math.random())?(d=!0,t.answers[g].wordTranslate):(d=!1,p[_(0,19)].wordTranslate)}))}function y(){return o(this,void 0,void 0,(function*(){const e=document.querySelector(".engl_word"),n=document.querySelector(".translate_engl_word");e.textContent=t.answers[g].word,n.textContent=yield b()}))}function S(){return o(this,void 0,void 0,(function*(){const e=document.querySelector(".answ_result_false");e.classList.add("click"),e.ontransitionend=function(){e.classList.remove("click")}}))}function w(){return o(this,void 0,void 0,(function*(){const e=document.querySelector(".answ_result_right");e.classList.add("click"),e.ontransitionend=function(){e.classList.remove("click")}}))}function k(e,t){return o(this,void 0,void 0,(function*(){p=e<5?yield(0,r.getWordsMiniGame)(e+1,t):yield(0,r.getWordsMiniGame)(e-1,t)}))}function x(e,t){return o(this,void 0,void 0,(function*(){if(t-1>=0){i.groupPage[0].page=t-1;const n=t-1;return u=localStorage.getItem("userData")?yield(0,r.buildMassSprint)(e,n):yield(0,r.getWordsMiniGame)(e,n),0===u.length&&(yield x(e,n)),n}return!1}))}function L(){return o(this,void 0,void 0,(function*(){const e=document.querySelector(".wrapper_end_game"),t=document.querySelector(".sprint_minigame"),n=document.querySelector(".end_game_score"),o=document.querySelector(".end_game_total"),i=document.querySelector(".end_game_series"),d=document.querySelector(".end_game_percent");t.classList.add("block"),e.classList.add("active"),a.massPoint[0]?n.innerHTML=`Score: ${a.massPoint[0]}`:n.innerHTML="Score: 0",o.innerHTML=`Total number of words: ${h}`,i.innerHTML=`Best right-series:  ${m}`;const c=Number((f/h*100).toFixed(1));d.innerHTML=h>0?`Answered correctly:  ${c}%`:"Answered correctly:  0",a.massPoint[0]=0,document.removeEventListener("keydown",s.keySprint),yield(0,r.checkGetUserStatus)(c,m)}))}function A(){return o(this,void 0,void 0,(function*(){const{page:e}=i.groupPage[0],{group:n}=i.groupPage[0];if(g<t.answers.length-1)g+=1,y();else{g=0,t.answers.length=0;const a=yield x(n,e);"number"==typeof a?(yield function(e,n){return o(this,void 0,void 0,(function*(){(yield(0,r.buildMassSprint)(e,n)).map((e=>t.answers.push(e))),yield k(e,n),y()}))}(n,a),yield y()):(L(),l.pause(),clearTimeout(c))}}))}function $(e,n){return o(this,void 0,void 0,(function*(){localStorage.getItem("userData")&&(e===n?(0,r.checkGetWordStatus)(i.groupPage[0].group,i.groupPage[0].page,t.answers[g].id,!0).catch((e=>o(this,void 0,void 0,(function*(){e.status})))):(0,r.checkGetWordStatus)(i.groupPage[0].group,i.groupPage[0].page,t.answers[g].id,!1).catch((e=>o(this,void 0,void 0,(function*(){e.status})))))}))}t.sprintDefaultIndex=function(){g=0,v=0,m=0,h=0,f=0,p.length=0,t.answers.length=0,i.startFlag.length=0,i.gameFlag.length=0},t.randomDiap=_,t.answerVariant=b,t.falseAnsw=S,t.trueAnsw=w,t.createMassFalse=k,t.createSprintResult=L,t.gameTimer=function(){return o(this,void 0,void 0,(function*(){const e=document.querySelector(".timer_value");l=document.querySelector("#game_timer"),l.play(),c=setTimeout((function t(){l.currentTime<l.duration?(e.textContent=`${Math.round(l.duration-l.currentTime)}`,c=setTimeout(t,1e3)):(clearTimeout(c),L())}),1e3)}))},t.checkAuthSprint=$,t.checkAnsw=function(e){return o(this,void 0,void 0,(function*(){console.clear(),d===e?(w(),(0,a.checkBonus)(!0),f+=1,v+=1):(m=m<v?v:m,v=0,(0,a.checkBonus)(!1),S()),h+=1,localStorage.getItem("userData")?($(d,e),document.querySelectorAll(".answ_btn").forEach((e=>{e.disabled=!0})),yield A().then((()=>{document.querySelectorAll(".answ_btn").forEach((e=>{e.disabled=!1}))}))):(yield function(){return o(this,void 0,void 0,(function*(){const{page:e}=i.groupPage[0],{group:n}=i.groupPage[0];if(g<19)g+=1;else{g=0,t.answers.length=0;const o=function(e){return e<29?e+1:0}(e);(yield(0,r.getWordsMiniGame)(n,o)).map((e=>t.answers.push(e))),yield k(n,o)}}))}(),y())}))}},677:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baseUrl=t.bodyHtml=void 0,t.bodyHtml=document.querySelector(".body"),t.baseUrl="https://alexrslangproject.herokuapp.com"},790:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function r(e){try{d(o.next(e))}catch(e){i(e)}}function s(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.renderHTMLStructure=void 0;const a=n(677),i=n(510),r=n(385),s=n(188),d=n(651),c=n(354);t.renderHTMLStructure=()=>o(void 0,void 0,void 0,(function*(){a.bodyHtml.innerHTML="";const e=document.createElement("header");e.classList.add("header");const t=document.createElement("main");t.classList.add("main");const n=document.createElement("footer");n.classList.add("footer"),a.bodyHtml.append(e),a.bodyHtml.append(t),a.bodyHtml.append(n)})),(0,t.renderHTMLStructure)().then((()=>o(void 0,void 0,void 0,(function*(){const e=document.querySelector(".header");e.innerHTML="",e.innerHTML='<h1 class="header-current"></h1>\n    <div class="burger"></div>\n    <nav class="header-nav">\n      <button class="nav-btn nav-home">Home</button>\n      <button class="nav-btn nav-textbook">TextBook</button>\n      <button class="nav-btn nav-games">Games</button>\n      <button class="nav-btn nav-statistics">Statistics</button>\n      <button class="nav-btn nav-developers">About App</button>\n      <button class="nav-mode"></button>    \n    </nav>     \n  '})))).then((()=>o(void 0,void 0,void 0,(function*(){const e=document.querySelector(".burger"),t=document.querySelector(".header-nav");e.addEventListener("click",(()=>{e.classList.toggle("_active"),t.classList.toggle("_active")}))})))).then((()=>o(void 0,void 0,void 0,(function*(){const e=document.querySelector(".header-nav"),t=document.querySelector(".nav-statistics");e.addEventListener("click",(()=>{null!==localStorage.getItem("userData")&&(t.disabled=!1,t.style.opacity="1",document.querySelector(".header-current").innerHTML="Statistics")}))})))).then((()=>o(void 0,void 0,void 0,(function*(){document.querySelector(".nav-home").addEventListener("click",(()=>{localStorage.setItem("currentPage","Home"),document.querySelector(".header-current").innerHTML="Home",(0,i.homePage)()}))})))).then((()=>o(void 0,void 0,void 0,(function*(){document.querySelector(".nav-textbook").addEventListener("click",(()=>{document.querySelector(".main").innerHTML="\n    ",localStorage.setItem("currentPage","Textbook"),document.querySelector(".header-current").innerHTML="Textbook",(0,s.renderTextbookPage)()}))})))).then((()=>o(void 0,void 0,void 0,(function*(){document.querySelector(".nav-games").addEventListener("click",(()=>{document.querySelector(".main").innerHTML="\n    ",localStorage.setItem("currentPage","Games"),document.querySelector(".header-current").innerHTML="Games",(0,d.renderGamesPage)()}))})))).then((()=>o(void 0,void 0,void 0,(function*(){const e=document.querySelector(".nav-statistics");e.addEventListener("click",(()=>{null!==localStorage.getItem("userData")?(e.disabled=!1,e.style.opacity="1",localStorage.setItem("currentPage","Statistics"),document.querySelector(".header-current").innerHTML="Statistics",(0,c.renderStatisticsPage)()):e.disabled=!0,e.style.opacity="0.7"}))})))).then((()=>o(void 0,void 0,void 0,(function*(){document.querySelector(".nav-developers").addEventListener("click",(()=>{localStorage.setItem("currentPage","About App"),document.querySelector(".header-current").innerHTML="About App",(0,r.aboutAppPage)()}))})))).then((()=>o(void 0,void 0,void 0,(function*(){const e=document.querySelector(".nav-mode");e.addEventListener("click",(()=>{null===localStorage.getItem("nightMode")?(localStorage.setItem("nightMode","nightMode"),e.classList.add("_night-mode"),a.bodyHtml.classList.add("_night-mode")):(localStorage.removeItem("nightMode"),e.classList.remove("_night-mode"),a.bodyHtml.classList.remove("_night-mode"))}))})))).then((()=>o(void 0,void 0,void 0,(function*(){document.querySelectorAll(".nav-btn").forEach((e=>{e.addEventListener("click",(()=>{"Textbook"!==localStorage.getItem("currentPage")&&a.bodyHtml.classList.remove("_learned-page")}))}))})))).then((()=>o(void 0,void 0,void 0,(function*(){const e=document.querySelector(".footer");e.innerHTML="",e.innerHTML='<div class="footer-rsschool">\n    <a href="https://rs.school/js/" target="_Blank"\n      ><div class="footer-rsschool_svg"></div\n    ></a>\n  </div>      \n  <div class="footer-github">\n    <a href="https://github.com/ArturZabashta" target="_Blank">\n      Artur\n      <div class="my-github"></div>\n    </a>\n    <div class="footer-github_logo"></div>\n    <a href="https://github.com/AlexeyZabashta" target="_Blank">\n      Alexey\n      <div class="my-github"></div>\n    </a>\n  </div>\n  <div class="footer-copyright">© 2022</div>   \n  '})))),window.addEventListener("load",(()=>o(void 0,void 0,void 0,(function*(){localStorage.getItem("currentPage")?("Home"===localStorage.getItem("currentPage")&&(0,i.homePage)(),"Textbook"===localStorage.getItem("currentPage")&&(0,s.renderTextbookPage)(),"Games"===localStorage.getItem("currentPage")&&(0,d.renderGamesPage)(),"About App"===localStorage.getItem("currentPage")&&(0,r.aboutAppPage)(),"Statistics"===localStorage.getItem("currentPage")&&(0,c.renderStatisticsPage)(),"About App"===localStorage.getItem("currentPage")&&(0,r.aboutAppPage)(),"nightMode"===localStorage.getItem("nightMode")&&(document.querySelector(".nav-mode").classList.add("_night-mode"),a.bodyHtml.classList.add("_night-mode"))):(0,i.homePage)();const e=document.querySelector(".header-current");e.innerHTML="",localStorage.getItem("currentPage")?("Home"===localStorage.getItem("currentPage")&&(e.innerHTML="Home"),"Textbook"===localStorage.getItem("currentPage")&&(e.innerHTML="Textbook"),"Games"===localStorage.getItem("currentPage")&&(e.innerHTML="Games"),"Statistics"===localStorage.getItem("currentPage")&&(e.innerHTML="Statistics"),"About App"===localStorage.getItem("currentPage")&&(e.innerHTML="About App")):e.innerHTML=""}))))},385:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function r(e){try{d(o.next(e))}catch(e){i(e)}}function s(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.aboutAppPage=void 0,t.aboutAppPage=()=>n(void 0,void 0,void 0,(function*(){const e=document.querySelector(".main");e.innerHTML="",e.innerHTML='<section class="developers">\n    <div class="developers-wrapper">\n        <h2 class="developers-title">About App</h2>\n        <div class="developer-aboutapp">\n          <p class="developer-aboutapp_subtitle">\n            <span>RS Lang</span> is an application for learning foreign words,\n            including an electronic textbook with a database of words to learn, \n            mini-games to repeat them, a statistics page to track individual progress.\n          </p>\n          <p class="developer-aboutapp_subtitle">\n            The application contains 3,600 frequently used English words\n            that you need to organize your learning. \n            The words in the collection are sorted \n            from the simpler and more familiar to the more complex ones.  \n            The entire collection is divided into six sections, \n            each section has 30 pages, each page has 20 words to study.\n          </p>\n          <p class="developer-aboutapp_subtitle">\n          The seventh section of the textbook is specially designed for the user\n           to be able to save Difficult words in it.\n           <br> <br>\n           <span>We wish you good luck in learning the language!!!</span>               \n        </div>\n\n        <h2 class="developers-title">Our team</h2>\n        \n        <div class="developer-wrapper">\n          <div class="developer">\n            <h3 class="developer-subtitle">Alexey Zabashta</h3>\n            <p class="developer-role">Frontend developer</p>\n            <p class="developer-work">Created and configured a copy of the back-end, \n              created a repository, wrote code for the AudioCall \n              and Sprint games, Statistics page.\n            </p>\n          </div>\n          <div class="developer">\n            <h3 class="developer-subtitle">Artur Zabashta</h3>\n            <p class="developer-role">Frontend developer</p>\n            <p class="developer-work">Developed application design, \n            was responsible for the development of the UI, \n            Home page, TextBook section, section with Difficult words, \n            user authorization logic.\n            </p>\n          </div>\n        </div>\n      </div>\n    </section>\n    '}))},651:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function r(e){try{d(o.next(e))}catch(e){i(e)}}function s(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.renderGamesPage=void 0;const a=n(120),i=n(388);let r,s;t.renderGamesPage=function(){return o(this,void 0,void 0,(function*(){document.querySelector(".main").innerHTML='\n  <section class="game_page_wrapper">\n    <div class="choose_game">\n      <div class="game_page_audio"></div>\n      <div class="game_page_sprint"></div>\n    </div>\n    <div class="choose_group">\n      <p class="choose_group_h2">Choose group to Start</p>\n      <div class="choose_group_content">\n        <div class="choose_group_num group_num1">1</div>\n        <div class="choose_group_num group_num2">2</div>\n        <div class="choose_group_num group_num3">3</div>\n        <div class="choose_group_num group_num4">4</div>\n        <div class="choose_group_num group_num5">5</div>\n        <div class="choose_group_num group_num6">6</div>\n      </div>  \n    </div>      \n  </section>\n  ',function(){o(this,void 0,void 0,(function*(){const e=document.querySelector(".choose_game"),t=document.querySelector(".game_page_audio"),n=document.querySelector(".game_page_sprint"),o=document.querySelector(".choose_group");t.addEventListener("click",(()=>{r=!1,o.classList.add("active"),e.classList.add("block")})),n.addEventListener("click",(()=>{r=!0,o.classList.add("active"),e.classList.add("block")})),o.addEventListener("click",(e=>{if(e.target.classList.contains("choose_group_num")){const t=document.querySelector(".main");s=Number(e.target.classList[1].slice(9)),t.innerHTML="",(0,a.startMiniGame)(r,!0,s,(0,i.randomDiap)(0,29))}}))}))}()}))}},510:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function r(e){try{d(o.next(e))}catch(e){i(e)}}function s(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.homePage=void 0;const a=n(385),i=n(188),r=n(354),s=n(651),d=n(592);t.homePage=()=>o(void 0,void 0,void 0,(function*(){const e=document.querySelector(".main");e.innerHTML="",e.innerHTML='<section class="home">\n  <button class="header-login_btn"></button>\n    <div class="header-login_block"></div>\n  <div class="home-wrapper">\n    <div class="home-intro home-article">\n      <h2 class="home-intro_title">RS Lang</h2>\n      <div class="home-intro_subtitle">\n        RS Lang is an application designed to help you with mastering \n        the English language. Regular lessons with this application \n        will help you expand your language base. \n        To get access to the full functionality of the application, \n        we recommend that you go through a quick registration process. \n      </div>\n    </div>\n\n    <div class="home-textbook home-article">\n      <h2 class="home-textbook_title">TextBook</h2>\n      <div class="home-textbook_subtitle">\n        With TextBook you can gradually learn words section by section, \n        practice correct pronunciation, get acquainted with examples of word usage \n        in different contexts.  \n      </div>\n    </div>\n\n    <div class="home-games home-article">\n      <h2 class="home-games_title">Games</h2>\n      <div class="home-games_subtitle">\n        Do you think learning English is boring?<br> \n        How about learning by playing? \n        There are two games to choose from.<br> \n        Audio Challenge - try to guess a word by ear.<br> \n        Sprint - become the fastest, guessing words visually. \n      </div>\n    </div>\n\n    <div class="home-statistics home-article">\n      <h2 class="home-statistics_title">Statistics</h2>\n      <div class="home-statistics_subtitle">\n        Keep track of your learning progress \n        in the special section Statistics\n      </div>\n    </div>\n\n    <div class="home-developers home-article">\n      <h2 class="home-developers_title">About App</h2>\n      <div class="home-developers_subtitle">\n        Meet the app developer team, which will introduce you to the app...\n      </div>\n    </div>\n  </div>\n  \n  </section>\n  ',document.querySelector(".home-textbook").addEventListener("click",(()=>{localStorage.setItem("currentPage","Textbook"),document.querySelector(".header-current").innerHTML="TextBook",(0,i.renderTextbookPage)()})),document.querySelector(".home-games").addEventListener("click",(()=>{localStorage.setItem("currentPage","Games"),document.querySelector(".header-current").innerHTML="Games",(0,s.renderGamesPage)()}));const t=document.querySelector(".home-statistics");t.addEventListener("click",(()=>{null!==localStorage.getItem("userData")?(t.style.opacity="1",localStorage.setItem("currentPage","Statistics"),document.querySelector(".header-current").innerHTML="Statistics",(0,r.renderStatisticsPage)()):t.style.opacity="0.8"})),document.querySelector(".home-developers").addEventListener("click",(()=>{localStorage.setItem("currentPage","About App"),document.querySelector(".header-current").innerHTML="About App",(0,a.aboutAppPage)()}));const n=document.querySelector(".header-login_btn");n.addEventListener("click",(()=>{(0,d.renderLoginWindow)()})),localStorage.getItem("userData")?n.classList.add("_logged"):n.classList.remove("_logged")}))},592:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function r(e){try{d(o.next(e))}catch(e){i(e)}}function s(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.renderLoginWindow=void 0;const a=n(677);t.renderLoginWindow=()=>o(void 0,void 0,void 0,(function*(){let e="";if(null!==localStorage.getItem("userData")){const t=yield String(localStorage.getItem("userData"));e=JSON.parse(t).name}const t=document.querySelector(".header-login_block");t.innerHTML=`<div class="login-window">\n        <div class="login-exit">\n            <button class="login-exit_btn"></button>\n        </div>\n        <h4 class="login-head"> Please Log in, or register <br> if your first time in RS Lang </h4>\n        <h4 class="logout-head"> Hello,  \n          <span class="login-username">${e} !</span> <br> You are logged in </h4>  \n        <form class="login-form">\n          <input class="login-input _name" \n            type="text"\n            name="_name"\n            id="_name"\n            minlength="2"\n            maxlength="20"           \n            placeholder="Input login"\n            autocomplete="off"\n            data-reg="^[a-zA-Z][a-zA-Z0-9-_]{1,20}$"         \n          />\n          <div class="lable_name">\n            Login should contain 2-20 Latin letters, \n            numbers, symbols and characters\n          </div>\n              \n          <input class="login-input _email" \n            type="text"\n            name="_email"\n            id="_email"           \n            placeholder="Input email"\n            autocomplete="off"\n            data-reg="^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$"          \n          />\n          <div class="lable_email">\n            Email must match the sample username@userbox.com\n          </div>\n\n          <input class="login-input _password" \n            type="password"\n            name="_password"\n            id="_password" \n            minlength="8"\n            maxlength="20"         \n            placeholder="Input password"\n            autocomplete="off"\n            data-reg="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^0-9a-zA-Z]).{8,15}$"    \n          />\n          <div class="lable_password">\n            Password must contain Latin letters \n            (at least one capital letter), \n            numbers, and special characters #$/?&%@\n          </div>\n        </form>  \n        <div class="login-btn_wrapper">\n            <button class="login-btn sign-in">\n                 Log in \n            </button>\n            <button class="login-btn log-out">\n                 Log out \n            </button>      \n            <p class="notReg">Are not yet registered?</p>        \n            <button class="login-btn registration">\n                Registration \n            </button>\n        </div>\n        <div class="login-error"></div>       \n    </div> \n    `,t.style.display="flex",t.style.opacity="1",t.style.visibility="visible",document.querySelector(".login-exit_btn").addEventListener("click",(()=>{t.style.opacity="0",t.style.visibility="hidden"}));const n=document.querySelector(".login-head"),i=document.querySelector(".logout-head"),r=document.querySelector(".login-username"),s=document.querySelector("._name"),d=document.querySelector("._email"),c=document.querySelector("._password"),l=document.querySelector(".login-error"),u=document.querySelector(".sign-in"),p=document.querySelector(".log-out"),g=document.querySelector(".registration"),v=document.querySelector(".notReg");u.addEventListener("mouseover",(()=>{g.classList.add("_not-hover"),s.classList.add("_not-hover")})),u.addEventListener("mouseout",(()=>{g.classList.remove("_not-hover"),s.classList.remove("_not-hover")})),g.addEventListener("mouseover",(()=>{u.classList.add("_not-hover")})),g.addEventListener("mouseout",(()=>{u.classList.remove("_not-hover")})),document.querySelector(".login-form").addEventListener("input",(function(e){const t=e.target;t.hasAttribute("data-reg")&&(e=>{const t=e.value,n=e.getAttribute("data-reg");new RegExp(String(n)).test(t)?(e.style.border="2px solid var(--border)",e.style.color="var(--border)",e.style.backgroundColor="var(--white)",e.classList.add("_validated")):(e.style.border="2px solid var(--red)",e.style.color="var(--black)",e.style.backgroundColor="var(--light-red)",e.classList.remove("_validated"))})(t)})),u.addEventListener("click",(()=>o(void 0,void 0,void 0,(function*(){var e,t;d.classList.contains("_validated")&&c.classList.contains("_validated")?(e=String(d.value),t=String(c.value),o(void 0,void 0,void 0,(function*(){const o={email:e,password:t},s=yield fetch(`${a.baseUrl}/signin`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)}),d=yield s.json();document.querySelector(".header-login_btn").classList.add("_logged"),localStorage.setItem("userData",JSON.stringify(d)),localStorage.getItem("userData")?(u.classList.add("_logged"),p.classList.add("_logged"),g.classList.add("_logged"),v.classList.add("_logged"),n.classList.add("_logged"),i.classList.add("_logged"),r.innerHTML=`${d.name} !`,r.classList.add("_logged")):(u.classList.remove("_logged"),p.classList.remove("_logged"),g.classList.remove("_logged"),v.classList.remove("_logged"),n.classList.remove("_logged"),i.classList.remove("_logged"),r.classList.remove("_logged"))})),l.style.opacity="0"):(l.innerHTML="Log in or register if you don't have an account yet",l.style.opacity="1")})))),g.addEventListener("click",(()=>{var e,t,n;s.classList.contains("_validated")&&d.classList.contains("_validated")&&c.classList.contains("_validated")?(e=String(s.value),t=String(d.value),n=String(c.value),o(void 0,void 0,void 0,(function*(){const o={name:e,email:t,password:n},i=yield fetch(`${a.baseUrl}/users`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)});yield i.json()})),l.style.opacity="0"):(l.innerHTML="Log in or register if you don't have an account yet",l.style.opacity="1")})),localStorage.getItem("userData")?(u.classList.add("_logged"),p.classList.add("_logged"),g.classList.add("_logged"),v.classList.add("_logged"),n.classList.add("_logged"),i.classList.add("_logged"),r.classList.add("_logged")):(u.classList.remove("_logged"),p.classList.remove("_logged"),g.classList.remove("_logged"),v.classList.remove("_logged"),n.classList.remove("_logged"),i.classList.remove("_logged"),r.classList.remove("_logged")),p.addEventListener("click",(()=>o(void 0,void 0,void 0,(function*(){localStorage.removeItem("userData"),localStorage.getItem("userData")?(u.classList.add("_logged"),p.classList.add("_logged"),g.classList.add("_logged"),v.classList.add("_logged"),n.classList.add("_logged"),i.classList.add("_logged"),r.classList.add("_logged")):(u.classList.remove("_logged"),p.classList.remove("_logged"),g.classList.remove("_logged"),v.classList.remove("_logged"),n.classList.remove("_logged"),i.classList.remove("_logged"),r.classList.remove("_logged"))}))))}))},354:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function r(e){try{d(o.next(e))}catch(e){i(e)}}function s(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.renderStatisticsPage=void 0;const a=n(332);t.renderStatisticsPage=()=>o(void 0,void 0,void 0,(function*(){const e=document.querySelector(".main");e.innerHTML="",e.innerHTML=`<section class="statistics_page">\n  <article class="stat_words stat_section">\n    <div class="stat_section_wrapper">\n      <p class="stat_title">Words Statistic</p>\n      <span id="new_words_all" class="span_stat">New words: ${yield(0,a.getAggrWordsUserGeneral)(0)}</span>\n      <span id="weak_words" class="span_stat">Learned words: ${yield(0,a.getAggrWordsUserGeneral)(1)}</span>\n      <span id="perc_date" class="span_stat">Answered correctly: ${yield(0,a.createStatField)(0)}%</span>     \n    </div>\n  </article>\n  <article class="stat_sprint stat_section">\n    <div class="stat_section_wrapper">\n      <p class="stat_title">Sprint Statistic</p>\n      <span id="new_words_sprint" class="span_stat">New words: ${yield(0,a.getAggrWordsUserGeneral)(2)}</span>\n      <span id="perc_date_sprint" class="span_stat">Answered correctly: ${yield(0,a.createStatField)(1)}%</span>\n      <span id="best_series_sprint" class="span_stat">Best series: ${yield(0,a.createStatField)(2)}</span>\n    </div>\n  </article>\n  <article class="stat_audio stat_section">\n    <div class="stat_section_wrapper">\n      <p class="stat_title">Audio Statistic</p>\n      <span id="new_words_audio" class="span_stat">New words: ${yield(0,a.getAggrWordsUserGeneral)(3)}</span>\n      <span id="perc_date_audio" class="span_stat">Answered correctly: ${yield(0,a.createStatField)(3)}%</span>\n      <span id="best_series_audio" class="span_stat">Best series: ${yield(0,a.createStatField)(4)}</span>    \n    </div>\n  </article>      \n</section> \n    `}))},188:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function r(e){try{d(o.next(e))}catch(e){i(e)}}function s(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextbookPage=t.getWords=void 0;const a=n(677),i=n(120);t.getWords=()=>o(void 0,void 0,void 0,(function*(){let e=0,t=0;localStorage.getItem("group")&&(e=Number(localStorage.getItem("group"))),localStorage.getItem("groupPage")&&(t=Number(localStorage.getItem("groupPage"))),null===localStorage.getItem("group")&&localStorage.setItem("group","0"),null===localStorage.getItem("groupPage")&&localStorage.setItem("groupPage","0");const n=yield fetch(`${a.baseUrl}/words?page=${t}&group=${e}`,{method:"GET"});return yield n.json()}));const r=()=>o(void 0,void 0,void 0,(function*(){if(null!==localStorage.getItem("userData")){const e=yield String(localStorage.getItem("userData")),t=JSON.parse(e),{userId:n}=t,o=t.token,i=yield fetch(`${a.baseUrl}/users/${n}/aggregatedWords?filter={"userWord.difficulty":"hard"}&wordsPerPage=3600`,{method:"GET",headers:{Authorization:`Bearer ${o}`,Accept:"application/json","Content-Type":"application/json"}}),r=yield i.json();return yield r[0].paginatedResults}return!1}));r().catch((e=>o(void 0,void 0,void 0,(function*(){alert("You need to log in again!!!\n\n Go to the Home page and login, or continue as an Anonymous user"),localStorage.removeItem("userData"),window.location.reload()}))));const s=()=>o(void 0,void 0,void 0,(function*(){if(null!==localStorage.getItem("userData")){const e=yield String(localStorage.getItem("userData")),t=JSON.parse(e),{userId:n}=t,o=t.token;let i=0,r=0;localStorage.getItem("group")&&(i=Number(localStorage.getItem("group"))),localStorage.getItem("groupPage")&&(r=Number(localStorage.getItem("groupPage")));const s=yield fetch(`${a.baseUrl}/users/${n}/aggregatedWords?&filter={"$and":[{"group": ${i}},{"page": ${r}},{"$or":[{"userWord.difficulty":"hard"},{"userWord.difficulty":"weak"}]}]}&wordsPerPage=20`,{method:"GET",headers:{Authorization:`Bearer ${o}`,Accept:"application/json","Content-Type":"application/json"}}),d=yield s.json();return yield d[0].paginatedResults}return!1}));s().catch((e=>o(void 0,void 0,void 0,(function*(){alert("You need to log in again!!!\n\n Go to the Home page and login, or continue as an Anonymous user"),localStorage.removeItem("userData"),window.location.reload()}))));const d=e=>o(void 0,void 0,void 0,(function*(){const t=document.querySelectorAll(".textbook-play[data-audioplay]");t.forEach(((e,t)=>o(void 0,void 0,void 0,(function*(){e.disabled=!0}))));const n=document.querySelector(".textbook-player"),i=yield fetch(`${a.baseUrl}/words/${e}`,{method:"GET"}),r=yield i.json(),s=[`${a.baseUrl}/${r.audio}`,`${a.baseUrl}/${r.audioExample}`,`${a.baseUrl}/${r.audioMeaning}`];n.src=`${a.baseUrl}/${r.audio}`;let d=0;!function e(){n.play();const a=setInterval((()=>{var i;n.currentTime===n.duration&&d<s.length-1?(d++,i=d,n.src=`${s[i]}`,n.currentTime=0,e()):n.currentTime===n.duration&&d===s.length-1&&(n.pause(),clearInterval(a),t.forEach(((e,t)=>o(this,void 0,void 0,(function*(){e.disabled=!1,e.style.opacity="1"})))))}),200)}()}));t.renderTextbookPage=()=>o(void 0,void 0,void 0,(function*(){const e=Number(localStorage.getItem("group"))+1,n=yield(0,t.getWords)();let c;c=null===localStorage.getItem("userData")?"_unlogged":"",document.querySelector(".main").innerHTML=`<section class="textbook">\n    <div class="textbook-wrapper">\n      <div class="textbook-headbtns_wrapper">\n        <div class="textbook-pagination">\n          <button class="textbook-prev_btn"></button>\n          <select name="textbook-select" id="textbook-select">            \n          </select>\n          <button class="textbook-nex_tbtn"></button>\n        </div> \n          <button class="textbook-audio_btn"></button>\n          <button class="textbook-sprint_btn"></button>                 \n      </div>         \n      <div class="textbook-list_wrapper">\n        <div class="textbook-list"></div>\n      </div>\n      <div class="textbook-group">\n        <button class="textbook-group_btn" data-group="0">1</button>          \n        <button class="textbook-group_btn" data-group="1">2</button>\n        <button class="textbook-group_btn" data-group="2">3</button>\n        <button class="textbook-group_btn" data-group="3">4</button>\n        <button class="textbook-group_btn" data-group="4">5</button>\n        <button class="textbook-group_btn" data-group="5">6</button>\n        <button class="textbook-group_btn ${c}" data-group="6">7</button>\n      </div>          \n    </div>     \n    <audio class="textbook-player"></audio>\n  </section>\n  `;const l=document.querySelector(".textbook-audio_btn"),u=document.querySelector(".textbook-sprint_btn"),p=document.querySelector(".textbook-prev_btn"),g=document.querySelector(".textbook-nex_tbtn"),v=document.getElementById("textbook-select");let m="";const h=Number(localStorage.getItem("groupPage"));for(let e=0;e<30;e+=1)m+=h===e?`<option value="${e}" selected>${e+1}</option>`:`<option value="${e}">${e+1}</option>`;v.innerHTML=`${m}`;const f=document.querySelector(".textbook-list");if(null===localStorage.getItem("userData")&&n.forEach(((t,n)=>{const o=document.createElement("div");o.classList.add("textbook-item_wrapper"),o.style.boxShadow=`1.75rem 2rem 3rem 1rem var(--group${e})`,o.innerHTML=`<div class="textbook-item">\n      <div class="textbook-item_picture">\n        <img class="textbook-item_img" src=${a.baseUrl}/${t.image}>\n      </div>\n      <div class="textbook-item_article">\n        <span class="textbook-word">${t.word}</span>\n        <span class="textbook-word_transcription">${t.transcription}</span>\n        <span class="textbook-word_translate">${t.wordTranslate}</span>     \n      </div>\n      <div class="textbook-item_article">\n        <span class="textbook-example">${t.textExample}</span>    \n        <span class="textbook-example_translate">${t.textExampleTranslate}</span>\n      </div>\n      <div class="textbook-item_article">\n        <span class="textbook-meaning">${t.textMeaning}</span>\n        <span class="textbook-meaning_translate">${t.textMeaningTranslate}</span>\n      </div>\n      <div class="textbook-item_article ${c}">\n        <button class="textbook-play" data-audioplay='${t.id}'></button>\n      </div>      \n      <div class="textbook-word_blur"></div>\n      </div>\n      `,f.append(o)})),6!==Number(localStorage.getItem("group"))&&null!==localStorage.getItem("userData")){const t=yield s();null!==localStorage.getItem("userData")&&t&&n.map((e=>{const n=t.findIndex((t=>t._id===e.id));return-1!==n?t[n]:e})).forEach(((t,n)=>{var o,i,r,s,d,c;let l,u,p,g,v,m;l=t.id?t.id:String(t._id),u=(null===(o=null==t?void 0:t.userWord)||void 0===o?void 0:o.optional.trueAnsw)?null===(i=null==t?void 0:t.userWord)||void 0===i?void 0:i.optional.trueAnsw:0,p=(null===(r=null==t?void 0:t.userWord)||void 0===r?void 0:r.optional.falseAnsw)?null===(s=null==t?void 0:t.userWord)||void 0===s?void 0:s.optional.falseAnsw:0,g=(null===(d=null==t?void 0:t.userWord)||void 0===d?void 0:d.difficulty)?null===(c=null==t?void 0:t.userWord)||void 0===c?void 0:c.difficulty:"",v="hard"===g?"_difficult":"",m="weak"===g?"_learned":"";const h=document.createElement("div");h.classList.add("textbook-item_wrapper"),h.style.boxShadow=`1.75rem 2rem 3rem 1rem var(--group${e})`,h.innerHTML=`<div class="textbook-item ${v}${m}" data-item='${l}'>\n      <div class="textbook-item_picture">\n        <img class="textbook-item_img" src=${a.baseUrl}/${t.image}>\n      </div>\n      <div class="textbook-item_article">\n      <span class="textbook-word">${t.word}</span>\n      <span class="textbook-word_transcription">${t.transcription}</span>\n      <span class="textbook-word_translate">${t.wordTranslate}</span>\n      \n      </div>\n      <div class="textbook-item_article">\n      <span class="textbook-example">${t.textExample}</span>    \n      <span class="textbook-example_translate">${t.textExampleTranslate}</span>\n      </div>\n      <div class="textbook-item_article">\n      <span class="textbook-meaning">${t.textMeaning}</span>\n      <span class="textbook-meaning_translate">${t.textMeaningTranslate}</span>\n      </div>\n      <div class="textbook-item_article">\n      <button class="textbook-play" data-audioplay='${l}'></button>\n      <div class="textbook-wordbtns_wrapper">\n        <button class="word-btn learned-word ${m}" data-learned='${l}'>Learn</button>\n        <button class="word-btn difficult-word ${v}" data-difficult='${l}'>Difficult</button>      \n      </div>\n      <div class="textbook-answ_wrapper">\n        <span class="answ-true">true  :${u}</span>\n        <span class="answ-separator"></span>\n        <span class="answ-false">false:${p}</span>\n      </div>\n      </div>\n      <div class="textbook-word_blur"></div>\n      </div>\n      `,f.append(h)}))}if(6===Number(localStorage.getItem("group"))&&null!==localStorage.getItem("userData")){const t=yield r();null!==localStorage.getItem("userData")&&t&&t.forEach(((t,n)=>{var o,i;const r=document.createElement("div");r.classList.add("textbook-item_wrapper"),r.classList.add("_difficult"),r.style.boxShadow=`1.75rem 2rem 3rem 1rem var(--group${e})`,r.dataset.item_id=`${t._id}`,r.innerHTML=`<div class="textbook-item" data-item='${t._id}'>\n      <div class="textbook-item_picture">\n        <img class="textbook-item_img" src=${a.baseUrl}/${t.image}>\n      </div>\n      <div class="textbook-item_article">\n      <span class="textbook-word">${t.word}</span>\n      <span class="textbook-word_transcription">${t.transcription}</span>\n      <span class="textbook-word_translate">${t.wordTranslate}</span>\n      \n      </div>\n      <div class="textbook-item_article">\n      <span class="textbook-example">${t.textExample}</span>    \n      <span class="textbook-example_translate">${t.textExampleTranslate}</span>\n      </div>\n      <div class="textbook-item_article">\n      <span class="textbook-meaning">${t.textMeaning}</span>\n      <span class="textbook-meaning_translate">${t.textMeaningTranslate}</span>\n      </div>\n      <div class="textbook-item_article">\n      <button class="textbook-play" data-audioplay='${t._id}'></button>\n      <div class="textbook-wordbtns_wrapper">\n        <button class="word-btn learned-word" style="display: none" data-learned='${t._id}' disabled>Learn</button>\n        <button class="word-btn difficult-word _delete-word" data-difficult='${t._id}'>Remove</button>      \n      </div>\n      <div class="textbook-answ_wrapper">\n        <span class="answ-true">true  :${null===(o=t.userWord)||void 0===o?void 0:o.optional.trueAnsw}</span>\n        <span class="answ-separator"></span>\n        <span class="answ-false">false:${null===(i=t.userWord)||void 0===i?void 0:i.optional.falseAnsw}</span>\n      </div>\n      </div>\n      <div class="textbook-word_blur"></div>\n      </div>\n      `,f.append(r)})),v.disabled=!0,v.style.opacity="0.3",p.disabled=!0,p.style.opacity="0.3",g.disabled=!0,g.style.opacity="0.3"}const _=e=>o(void 0,void 0,void 0,(function*(){const n=Number(localStorage.getItem("groupPage")),o=Number(localStorage.getItem("group"));let a=n+e;const i=o;a<0&&(a=0),a>29&&(a=29),localStorage.setItem("group",String(i)),localStorage.setItem("groupPage",String(a)),s().then((()=>{(0,t.renderTextbookPage)()}))}));p.addEventListener("click",(()=>{_(-1)})),v.addEventListener("change",(()=>{localStorage.setItem("groupPage",String(v.value)),v.options[v.selectedIndex].selected=!0,(0,t.renderTextbookPage)()})),g.addEventListener("click",(()=>{_(1)}));const b=document.querySelectorAll(".textbook-group_btn[data-group]");if(b.forEach(((e,t)=>o(void 0,void 0,void 0,(function*(){const t=localStorage.getItem("group");e.dataset.group===t?e.classList.add("_selected"):e.classList.remove("_selected")})))),b.forEach(((e,n)=>o(void 0,void 0,void 0,(function*(){const n=localStorage.getItem("group");e.addEventListener("click",(()=>{e.dataset.group===n&&e.classList.add("_selected");const o=Number(e.dataset.group);localStorage.setItem("group",String(o)),localStorage.setItem("groupPage","0"),6===o?r().then((()=>(0,t.renderTextbookPage)())):s().then((()=>{(0,t.renderTextbookPage)()}))}))})))),document.querySelectorAll(".textbook-play[data-audioplay]").forEach(((e,t)=>o(void 0,void 0,void 0,(function*(){e.addEventListener("click",(()=>{const t=String(e.dataset.audioplay);e.style.opacity="0.1",d(t)}))})))),null!==localStorage.getItem("userData")){const e=document.querySelectorAll(".learned-word[data-learned]"),t=document.querySelectorAll(".difficult-word[data-difficult]"),n=(Number(document.querySelector(".answ-true").textContent),Number(document.querySelector(".answ-true").textContent),Number(localStorage.getItem("group"))),i=yield String(localStorage.getItem("userData")),r=JSON.parse(i),{userId:s}=r,d=r.token,c=(e,t)=>o(void 0,void 0,void 0,(function*(){yield fetch(`${a.baseUrl}/users/${s}/words/${e}`,{method:"POST",headers:{Authorization:`Bearer ${r.token}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>o(void 0,void 0,void 0,(function*(){yield e.json()})))).catch((e=>o(void 0,void 0,void 0,(function*(){alert("You need to log in again!!!\n\n Go to the Home page and login, or continue as an Anonymous user"),localStorage.removeItem("userData"),window.location.reload()}))))})),p=(e,t)=>o(void 0,void 0,void 0,(function*(){yield fetch(`${a.baseUrl}/users/${s}/words/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${r.token}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>o(void 0,void 0,void 0,(function*(){yield e.json()})))).catch((e=>o(void 0,void 0,void 0,(function*(){alert("You need to log in again!!!\n\n Go to the Home page and login,\n               or \ncontinue as an Anonymous user"),localStorage.removeItem("userData"),window.location.reload()}))))})),g=(e,t,n,i,r,d)=>o(void 0,void 0,void 0,(function*(){yield fetch(`${a.baseUrl}/users/${s}/words/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}}).then((t=>o(void 0,void 0,void 0,(function*(){if(200===t.status){const o=yield t.json();o.difficulty=n,o.optional.learnDate=d,p(e,{difficulty:n,optional:{group:o.optional.group,groupPage:o.optional.groupPage,trueAnsw:o.optional.trueAnsw,falseAnsw:o.optional.falseAnsw,answSeries:0,learnDate:d,learnGame:o.optional.learnGame}})}else c(e,{difficulty:n,optional:{group:String(i),groupPage:String(r),trueAnsw:0,falseAnsw:0,answSeries:0,learnDate:d,learnGame:"unplayed"}})})))).catch((e=>o(void 0,void 0,void 0,(function*(){}))))})),m=()=>o(void 0,void 0,void 0,(function*(){document.querySelector(".textbook-list_wrapper");const e=document.querySelectorAll(".textbook-item._learned"),t=document.querySelectorAll(".textbook-item._difficult");Number(e.length)+Number(t.length)===20&&"6"!==localStorage.getItem("group")?(a.bodyHtml.classList.add("_learned-page"),v.classList.add("_learned-page"),l.disabled=!0,l.style.opacity="0.2",u.disabled=!0,u.style.opacity="0.2"):(a.bodyHtml.classList.remove("_learned-page"),v.classList.remove("_learned-page"),l.disabled=!1,l.style.opacity="1",u.disabled=!1,u.style.opacity="1")}));m(),e.forEach((e=>o(void 0,void 0,void 0,(function*(){e.addEventListener("click",(()=>o(void 0,void 0,void 0,(function*(){const t=String(e.dataset.learned),o=document.querySelector(`.difficult-word[data-difficult='${t}']`),a=document.querySelector(`.textbook-item[data-item='${t}']`);e.classList.add("_learned"),a.classList.add("_learned"),a.classList.remove("_difficult"),o.classList.remove("_difficult"),m();const i=(new Date).toLocaleDateString();yield g(t,d,"weak",n,h,i).catch((e=>{}))}))))})))),t.forEach(((e,t)=>o(void 0,void 0,void 0,(function*(){e.addEventListener("click",(()=>o(void 0,void 0,void 0,(function*(){const t=String(e.dataset.difficult),o=document.querySelector(`.learned-word[data-learned='${t}']`),a=document.querySelector(`.textbook-item[data-item='${t}']`);e.classList.add("_difficult"),a.classList.add("_difficult"),a.classList.remove("_learned"),m();const i=(new Date).toLocaleDateString();if(6!==Number(localStorage.getItem("group"))){const e="hard";o.classList.remove("_learned"),yield g(t,d,e,n,h,i).catch((e=>{}))}if(6===Number(localStorage.getItem("group"))){a.classList.add("_removed-item");const e="new";yield g(t,d,e,n,h,i).catch((e=>{}))}}))))}))))}u.addEventListener("click",(()=>o(void 0,void 0,void 0,(function*(){localStorage.setItem("currentPage","Games"),document.querySelector(".header-current").innerHTML="Games";const e=Number(localStorage.getItem("group")),t=Number(localStorage.getItem("groupPage"));yield(0,i.startMiniGame)(!0,!1,e,t)})))),l.addEventListener("click",(()=>o(void 0,void 0,void 0,(function*(){localStorage.setItem("currentPage","Games"),document.querySelector(".header-current").innerHTML="Games";const e=Number(localStorage.getItem("group")),t=Number(localStorage.getItem("groupPage"));yield(0,i.startMiniGame)(!1,!1,e,t)}))))}))},332:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function r(e){try{d(o.next(e))}catch(e){i(e)}}function s(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.putUserStat=t.createStatField=t.checkGetUserOptions=t.checkGetUserStatus=t.createUserStat=t.updateUserStatAudio=t.requestUpdateUserAudio=t.updateUserStatSprint=t.getAggrWordsUserGeneral=t.getUserStat=t.checkGetWordStatus=t.getWordUserSprint=t.createWordUserSprint=t.updateWordUserSprint=t.buildMassSprint=t.getAggrWordsMiniGame=t.getWordsMiniGame=void 0;const a=n(120);function i(e,t){return o(this,void 0,void 0,(function*(){const n=JSON.parse(String(localStorage.getItem("userData"))),o=yield fetch(`https://alexrslangproject.herokuapp.com/users/${n.userId}/aggregatedWords?&filter={"$and":[{"group": ${e}},{"page": ${t}},{"userWord.difficulty":"weak"}]}&wordsPerPage=20`,{method:"GET",headers:{Authorization:`Bearer ${n.token}`,Accept:"application/json","Content-Type":"application/json"}});return(yield o.json())[0].paginatedResults}))}function r(e,t){return e.diff===t.difficulty?t.optional.learnDate:(new Date).toLocaleDateString()}function s(e,t){return e.diff!==t.difficulty?a.gameFlag[0]?"Sprint":"Audio":t.optional.learnGame}function d(){return o(this,void 0,void 0,(function*(){const e=JSON.parse(String(localStorage.getItem("userData"))),t=yield fetch(`https://alexrslangproject.herokuapp.com/users/${e.userId}/statistics`,{method:"GET",headers:{Authorization:`Bearer ${e.token}`,Accept:"application/json","Content-Type":"application/json"}});return yield t.json()}))}function c(e,t){return t.optional.sprint?(e+t.optional.sprint.percent)/2:e}function l(e,t){if(t.optional.audio){const n=e,o=t.optional.audio.percent;return Math.round((n+o)/2)}return Math.round(e)}function u(e){return o(this,void 0,void 0,(function*(){const t=JSON.parse(String(localStorage.getItem("userData")));yield fetch(`https://alexrslangproject.herokuapp.com/users/${t.userId}/statistics`,{method:"PUT",headers:{Authorization:`Bearer ${t.token}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})}))}function p(e,t,n){return o(this,void 0,void 0,(function*(){n.optional.audio?u({learnedWords:0,optional:{sprint:{percent:c(e,n),bestSer:t>n.optional.sprint.bestSer?t:n.optional.sprint.bestSer},audio:{percent:n.optional.audio.percent,bestSer:n.optional.audio.bestSer}}}):u({learnedWords:0,optional:{sprint:{percent:c(e,n),bestSer:t}}})}))}function g(e){return o(this,void 0,void 0,(function*(){const t=JSON.parse(String(localStorage.getItem("userData")));yield fetch(`https://alexrslangproject.herokuapp.com/users/${t.userId}/statistics`,{method:"PUT",headers:{Authorization:`Bearer ${t.token}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})}))}function v(e,t,n){return o(this,void 0,void 0,(function*(){n.optional.sprint?g({learnedWords:0,optional:{audio:{percent:l(e,n),bestSer:t>n.optional.audio.bestSer?t:n.optional.audio.bestSer},sprint:{percent:n.optional.sprint.percent,bestSer:n.optional.sprint.bestSer}}}):g({learnedWords:0,optional:{audio:{percent:l(e,n),bestSer:t}}})}))}function m(e,t,n){return o(this,void 0,void 0,(function*(){const o=function(e,t,n){return n?{learnedWords:0,optional:{sprint:{percent:e,bestSer:t}}}:{learnedWords:0,optional:{audio:{percent:e,bestSer:t}}}}(e,t,n),a=JSON.parse(String(localStorage.getItem("userData")));yield fetch(`https://alexrslangproject.herokuapp.com/users/${a.userId}/statistics`,{method:"PUT",headers:{Authorization:`Bearer ${a.token}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)})}))}function h(){return o(this,void 0,void 0,(function*(){let e;return d().then((t=>(e=t,e))).catch((t=>(console.clear(),new Error("error 404"),e=!1,e)))}))}t.getWordsMiniGame=(e,t)=>o(void 0,void 0,void 0,(function*(){const n=yield fetch(`https://alexrslangproject.herokuapp.com/words?page=${t}&group=${e}`,{method:"GET"});return yield n.json()})),t.getAggrWordsMiniGame=i,t.buildMassSprint=function(e,n){return o(this,void 0,void 0,(function*(){const o=yield(0,t.getWordsMiniGame)(e,n),a=yield i(e,n);return o.filter((e=>!1===a.some((t=>t.word===e.word))?e:null))}))},t.updateWordUserSprint=(e,t,n,a,i)=>o(void 0,void 0,void 0,(function*(){const o=function(e,t){const n=e.optional.answSeries+1;return t?"new"===e.difficulty&&3===n||"hard"===e.difficulty&&5===n?{diff:"weak",ser:0}:{diff:e.difficulty,ser:n}:{diff:"hard",ser:0}}(i,a),d={difficulty:o.diff,optional:{group:`${e}`,groupPage:`${t}`,trueAnsw:a?i.optional.trueAnsw+1:i.optional.trueAnsw,falseAnsw:a?i.optional.falseAnsw:i.optional.falseAnsw+1,answSeries:o.ser,learnDate:r(o,i),learnGame:s(o,i)}},c=JSON.parse(String(localStorage.getItem("userData")));yield fetch(`https://alexrslangproject.herokuapp.com/users/${c.userId}/words/${n}`,{method:"PUT",headers:{Authorization:`Bearer ${c.token}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(d)})})),t.createWordUserSprint=(e,t,n,i)=>o(void 0,void 0,void 0,(function*(){const o={difficulty:i?"new":"hard",optional:{group:`${e}`,groupPage:`${t}`,trueAnsw:i?1:0,falseAnsw:i?0:1,answSeries:i?1:0,learnDate:(new Date).toLocaleDateString(),learnGame:a.gameFlag[0]?"Sprint":"Audio"}},r=JSON.parse(String(localStorage.getItem("userData")));yield fetch(`https://alexrslangproject.herokuapp.com/users/${r.userId}/words/${n}`,{method:"POST",headers:{Authorization:`Bearer ${r.token}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)})})),t.getWordUserSprint=e=>o(void 0,void 0,void 0,(function*(){const t=JSON.parse(String(localStorage.getItem("userData"))),n=fetch(`https://alexrslangproject.herokuapp.com/users/${t.userId}/words/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t.token}`,Accept:"application/json","Content-Type":"application/json"}}).catch((e=>{new Error("error 404 userword")}));return yield(yield n).json()})),t.checkGetWordStatus=function(e,n,a,i){return o(this,void 0,void 0,(function*(){(0,t.getWordUserSprint)(a).then((o=>{(0,t.updateWordUserSprint)(e,n,a,i,o)})).catch((o=>{console.clear(),new Error("error 404"),(0,t.createWordUserSprint)(e,n,a,i)}))}))},t.getUserStat=d,t.getAggrWordsUserGeneral=function(e){return o(this,void 0,void 0,(function*(){const t=(new Date).toLocaleDateString(),n=[`{"userWord.difficulty":"new"}, {"userWord.optional.learnDate":"${t}"}`,`{"userWord.difficulty":"weak"}, {"userWord.optional.learnDate":"${t}"}`,`{"userWord.difficulty":"new"}, {"userWord.optional.learnDate":"${t}"}, {"userWord.optional.learnGame":"Sprint"}`,`{"userWord.difficulty":"new"}, {"userWord.optional.learnDate":"${t}"}, {"userWord.optional.learnGame":"Audio"}`],o=JSON.parse(String(localStorage.getItem("userData"))),a=yield fetch(`https://alexrslangproject.herokuapp.com/users/${o.userId}/aggregatedWords?&filter={"$and":[${n[e]}]}`,{method:"GET",headers:{Authorization:`Bearer ${o.token}`,Accept:"application/json","Content-Type":"application/json"}}),i=yield a.json();return i[0].totalCount.length?i[0].totalCount[0].count:0}))},t.updateUserStatSprint=p,t.requestUpdateUserAudio=g,t.updateUserStatAudio=v,t.createUserStat=m,t.checkGetUserStatus=function(e,t){return o(this,void 0,void 0,(function*(){d().then((n=>{a.gameFlag[0]?p(e,t,n):v(e,t,n)})).catch((n=>{console.clear(),new Error("error 404"),a.gameFlag[0]?m(e,t,!0):m(e,t,!1)}))}))},t.checkGetUserOptions=h,t.createStatField=function(e){var t,n,a,i,r,s,d,c,l,u,p,g;return o(this,void 0,void 0,(function*(){const o=yield h();if(o){if(0===e){if(o.optional.audio&&o.optional.sprint){const e=null===(t=o.optional.audio)||void 0===t?void 0:t.percent,a=null===(n=o.optional.sprint)||void 0===n?void 0:n.percent;return`${Math.round((e+a)/2)}`}if(o.optional.audio)return null===(a=o.optional.audio)||void 0===a?void 0:a.percent.toFixed(0);if(o.optional.sprint)return null===(i=o.optional.sprint)||void 0===i?void 0:i.percent.toFixed(0)}if(1===e)return(null===(r=o.optional.sprint)||void 0===r?void 0:r.percent)?null===(s=o.optional.sprint)||void 0===s?void 0:s.percent.toFixed(0):0;if(2===e)return(null===(d=o.optional.sprint)||void 0===d?void 0:d.bestSer)?null===(c=o.optional.sprint)||void 0===c?void 0:c.bestSer:0;if(3===e)return(null===(l=o.optional.audio)||void 0===l?void 0:l.percent)?null===(u=o.optional.audio)||void 0===u?void 0:u.percent.toFixed(0):0;if(4===e)return(null===(p=o.optional.audio)||void 0===p?void 0:p.bestSer)?null===(g=o.optional.audio)||void 0===g?void 0:g.bestSer:0}return 0}))},t.putUserStat=function(){return o(this,void 0,void 0,(function*(){const e=JSON.parse(String(localStorage.getItem("userData")));yield fetch(`https://alexrslangproject.herokuapp.com/users/${e.userId}/statistics`,{method:"PUT",headers:{Authorization:`Bearer ${e.token}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({learnedWords:0,optional:{audio:{percent:0,bestSer:0},sprint:{percent:0,bestSer:0}}})})}))}},834:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function r(e){try{d(o.next(e))}catch(e){i(e)}}function s(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.sprintDOM=t.keySprint=void 0;const a=n(388),i=n(917),r=n(510),s=n(188);function d(e){"ArrowLeft"===e.key&&(e.preventDefault(),(0,a.checkAnsw)(!1)),"ArrowRight"===e.key&&(e.preventDefault(),(0,a.checkAnsw)(!0)),document.querySelector(".header-nav").addEventListener("click",(e=>{e.target.classList.contains("nav-btn")&&document.removeEventListener("keydown",d)}))}t.keySprint=d,t.sprintDOM=e=>o(void 0,void 0,void 0,(function*(){document.querySelector(".main").innerHTML=`\n  <section class="wrapper_minigame">\n    <div class="sprint_minigame">\n      <audio id="game_timer" src="../rslang/src/assets/audio/timer.mp3"></audio>\n      <audio id="answer_sound"></audio>\n      <audio id="answer_bonus"></audio>\n      <h2 class="total_score">0</h2>\n      <div class="game_content_wrapper">\n        <div class="bonus_carousel_wrapper">\n          <div class="bonus_carousel">\n            <div class="bonus_circle"></div>\n            <div class="bonus_circle"></div>\n            <div class="bonus_circle"></div>\n          </div>\n        <h3 class="bonus_size">очков за слово</h3>        \n      </div>\n      <div class="game_content">\n        <div class="bonus_icon_wrapper">\n          <img src="../rslang/src/assets/red.png" class="bonus_icon" id="red">\n          <img src="../rslang/src/assets/big.png" class="bonus_icon big" id="big">\n          <img src="../rslang/src/assets/boom.png" class="bonus_icon boom" id="boom">\n          <img src="../rslang/src/assets/flash.png" class="bonus_icon flash" id="flash">\n        </div>\n        <div class="engl_word">${e}</div>\n        <div class="translate_engl_word">${yield(0,a.answerVariant)()}</div>\n      </div>\n      <div class="answer_wrapper">\n        <button class="answ_btn" id="answ_false">Неверно</button>\n        <button class="answ_btn" id="answ_true">Верно</button>\n      </div>\n      <div class="sprint_key_icon">\n        <img src="../rslang/src/assets/arr_left.svg">\n        <img src="../rslang/src/assets/arr_right.svg">\n      </div>\n      <img class="answ_result_right" src="../rslang/src/assets/true2.svg">\n      <img class="answ_result_false" src="../rslang/src/assets/false2.svg">\n    </div>  \n    <div class="timer_value">60</div>\n  </div>\n  <div class="wrapper_end_game">\n    <div class="end_game">\n        <div class="end_game_score"></div>\n        <div class="end_game_total"></div>\n        <div class="end_game_series"></div>\n        <div class="end_game_percent"></div>\n        <button id="end_game_textbook">Back to TextBook</button>\n        <button id="end_game_mainmenu">Back to Menu</button>\n    </div>\n  </div>   \n</section>\n`,document.querySelector("#answ_false").addEventListener("click",(()=>(0,a.checkAnsw)(!1))),document.querySelector("#answ_true").addEventListener("click",(()=>(0,a.checkAnsw)(!0))),document.addEventListener("keyup",(e=>d(e))),(0,i.addDOMVariables)(),document.querySelector("#end_game_mainmenu").addEventListener("click",(()=>{(0,r.homePage)(),(0,a.sprintDefaultIndex)()})),document.querySelector("#end_game_textbook").addEventListener("click",(()=>{(0,s.renderTextbookPage)(),(0,a.sprintDefaultIndex)()}))}))}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(235),n(177),n(677),n(790),n(120),console.log("\nБаги исправлены, спасибо Всем, кто подождал! :-)\nСамооценка 640 \\ 620.\nПодробное описание в Pull Request.\nУспехов Вам! \n")})();