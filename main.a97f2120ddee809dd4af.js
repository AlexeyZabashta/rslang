(()=>{"use strict";var e={235:(e,t,n)=>{n.r(t)},177:(e,t,n)=>{n.r(t)},307:(e,t,n)=>{n.r(t)},120:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function s(e){try{d(o.next(e))}catch(e){i(e)}}function r(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.startMiniGame=t.groupPage=t.gameFlag=t.startFlag=void 0,n(307);const a=n(388),i=n(834),s=n(332),r=n(1),d=n(159);t.startFlag=[],t.gameFlag=[],t.groupPage=[],t.startMiniGame=function(e,n,c,l){return o(this,void 0,void 0,(function*(){yield(0,r.clearIndexAudio)(),(0,a.sprintDefaultIndex)(),console.log(n,c,l),t.startFlag.push(n),t.gameFlag.push(e);const u={group:c,page:l};t.groupPage.push(u),t.gameFlag[0]?function(e,t,n){o(this,void 0,void 0,(function*(){if(yield(0,a.createMassFalse)(t,n),e){const e=yield(0,s.getWordsMiniGame)(t,n);e.map((e=>a.answers.push(e))),yield(0,i.sprintDOM)(e[0].word).then((()=>(0,a.gameTimer)()))}else{const e=yield(0,s.buildMassSprint)(t,n);e.map((e=>a.answers.push(e))),(0,i.sprintDOM)(e[0].word).then((()=>(0,a.gameTimer)()))}}))}(n,c,l):function(e,t,n){o(this,void 0,void 0,(function*(){if(yield(0,r.createMassFalseAudio)(t,n),e){const e=yield(0,s.getWordsMiniGame)(t,n);e.map((e=>r.answersAudio.push(e))),(0,d.audioDOM)(e[0])}else{const e=yield(0,s.buildMassSprint)(t,n);e.map((e=>r.answersAudio.push(e))),(0,d.audioDOM)(e[0])}}))}(n,c,l)}))}},1:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function s(e){try{d(o.next(e))}catch(e){i(e)}}function r(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateAudioGameDom=t.indexVariant=t.addListnersAudioGame=t.clearIndexAudio=t.hideInfo=t.clickAudioGame=t.createMassFalseAudio=t.answersAudio=void 0;const a=n(159),i=n(388),s=n(332),r=n(120),d=n(188),c=n(510),l=[];t.answersAudio=[];let u=0,g=0,p=0,v=0;function m(e,t){const n=document.querySelector(`#audio_answer_variant${e}`);t?n.classList.add("right"):n.classList.add("false")}function h(){document.querySelector(".hide_info").classList.add("active"),document.querySelector("#next_word_btn").disabled=!1}function f(e){document.querySelectorAll(".btn_word_variant").forEach(((t,n)=>o(this,void 0,void 0,(function*(){t.disabled=!0,e!==n&&t.classList.add("block")}))))}function _(e,t){return o(this,void 0,void 0,(function*(){if(t>0){const n=t-1;return r.groupPage[0].page=n,0===(yield(0,s.buildMassSprint)(e,n)).length&&(yield _(e,n)),n}return!1}))}function b(){return o(this,void 0,void 0,(function*(){r.startFlag.length=0,r.gameFlag.length=0,l.length=0,t.answersAudio.length=0,u=0,g=0,p=0,v=0}))}function y(){return o(this,void 0,void 0,(function*(){const e=document.querySelector(".wrapper_audioGame"),t=document.querySelector(".end_audio_train_wrapper"),n=document.querySelector(".end_game_total"),a=document.querySelector(".end_game_series"),i=document.querySelector(".end_game_percent"),l=document.querySelector("#end_game_textbook"),g=document.querySelector("#end_game_mainmenu"),m=document.querySelector("#end_game_nextPage"),h=document.querySelector(".end_audio_info");e.classList.add("block"),t.classList.add("active"),m.classList.add("active"),m.addEventListener("click",(()=>o(this,void 0,void 0,(function*(){if(r.startFlag[0]){const e=yield function(){return o(this,void 0,void 0,(function*(){const{page:e}=r.groupPage[0];if(e<29){const t=e+1;return r.groupPage[0].page=t,t}return r.groupPage[0].page=0,0}))}();(0,r.startMiniGame)(!1,!0,r.groupPage[0].group,e)}else{const e=yield _(r.groupPage[0].group,r.groupPage[0].page);"number"==typeof e?(0,r.startMiniGame)(!1,!1,r.groupPage[0].group,e):(h.classList.add("active"),setTimeout((()=>{h.classList.remove("active")}),1e3))}})))),n.innerHTML=`Total words: ${u}`,a.innerHTML=`Best answer series: ${p}`;const f=(v/u*100).toFixed(1);i.innerHTML=u>0?`Answered correctly:  ${f}%`:"Answered correctly:  0",yield(0,s.checkGetUserStatus)(f,p),b(),l.addEventListener("click",d.renderTextbookPage),g.addEventListener("click",c.homePage)}))}function S(e){return o(this,void 0,void 0,(function*(){localStorage.getItem("userData")&&(0,s.checkGetWordStatus)(r.groupPage[0].group,r.groupPage[0].page,t.answersAudio[u].id,e)}))}function w(){const e=(0,i.randomDiap)(0,19);return t.indexVariant.indexOf(e)>=0&&w(),t.indexVariant.push(e),e}t.createMassFalseAudio=function(e,t){return o(this,void 0,void 0,(function*(){l.length=0,e<5?(yield(0,s.getWordsMiniGame)(e+1,t)).map((e=>l.push(e))):(yield(0,s.getWordsMiniGame)(e-1,t)).map((e=>l.push(e)))}))},t.clickAudioGame=m,t.hideInfo=h,t.clearIndexAudio=b,t.addListnersAudioGame=function(e){const n=document.querySelector("#idk");n.addEventListener("click",(()=>{n.disabled=!0,function(e){document.querySelector(`#audio_answer_variant${e}`).classList.add("right"),f(e),h()}(e),S(!1)})),document.querySelector("#next_word_btn").addEventListener("click",(()=>o(this,void 0,void 0,(function*(){u+=1,u<t.answersAudio.length-1?(0,a.audioDOM)(t.answersAudio[u]):y()}))));const i=document.querySelector("#audioGame_audio");i.play(),document.querySelector("#play_word").addEventListener("click",(()=>{i.play()})),document.querySelector(".word_variants").addEventListener("click",(t=>{if(t.target.classList.contains("btn_word_variant")){const a=t.target.id,i=Number(a[a.length-1]);n.disabled=!0,f(i),h(),function(e,t){o(this,void 0,void 0,(function*(){e===t?(g+=1,v+=1,m(e,!0),S(!0)):(p=p>g?p:g,g=0,m(e,!1),S(!1))}))}(i,e)}}))},t.indexVariant=[],t.updateAudioGameDom=function(e,t,n){return o(this,void 0,void 0,(function*(){if(e===t)return n;const o=w();return l[o].wordTranslate}))}},159:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function s(e){try{d(o.next(e))}catch(e){i(e)}}function r(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.audioDOM=t.rightAnswNum=void 0;const a=n(388),i=n(1);t.rightAnswNum=[],t.audioDOM=e=>o(void 0,void 0,void 0,(function*(){const n=document.querySelector(".main"),o=(0,a.randomDiap)(0,4);t.rightAnswNum.push(o),n.innerHTML=`\n  <section class="wrapper_audioGame">\n    <div class="audioGame_content">\n    <div class="word_block">\n      <audio id="audioGame_audio" src="http://alexrslangproject.herokuapp.com/${e.audio}"></audio>\n      <div class="hide_info">\n        <div class="audio_img" style="background-image: url('http://alexrslangproject.herokuapp.com/${e.image}');"></div>    \n        <div class="audio_answer">${e.word} (${e.wordTranslate})</div>\n      </div>\n      <button id="play_word">\n        <img src="../src/assets/volume.svg" id="play_word_audio">        \n      </button>      \n    </div>\n    <div class="word_variants">\n      <div class="word_variant">\n        <span class="audio_answer_variant" id="audio_answer_variant0"></span>\n        <button class="btn_word_variant" id="btn_word_variant0">${yield(0,i.updateAudioGameDom)(0,o,e.wordTranslate)}</button>\n      </div>\n      <div class="word_variant">\n        <span class="audio_answer_variant" id="audio_answer_variant1"></span>\n        <button class="btn_word_variant" id="btn_word_variant1">${yield(0,i.updateAudioGameDom)(1,o,e.wordTranslate)}</button>\n      </div>\n      <div class="word_variant">\n        <span class="audio_answer_variant" id="audio_answer_variant2"></span>\n        <button class="btn_word_variant" id="btn_word_variant2">${yield(0,i.updateAudioGameDom)(2,o,e.wordTranslate)}</button>\n      </div>\n      <div class="word_variant">\n        <span class="audio_answer_variant" id="audio_answer_variant3"></span>\n        <button class="btn_word_variant" id="btn_word_variant3">${yield(0,i.updateAudioGameDom)(3,o,e.wordTranslate)}</button>\n      </div>\n      <div class="word_variant">\n        <span class="audio_answer_variant" id="audio_answer_variant4"></span>\n        <button class="btn_word_variant" id="btn_word_variant4">${yield(0,i.updateAudioGameDom)(4,o,e.wordTranslate)}</button>\n      </div>\n    </div>\n    <div class="next_word">\n      <button id="idk">Не знаю</button>\n      <button id="next_word_btn" disabled>&#8594;</button>\n    </div>    \n  </section>\n  <section class="end_audio_train_wrapper">\n    <div class="end_audio_train">    \n        <div class="end_game_total"></div>\n        <div class="end_game_series"></div>\n        <div class="end_game_percent"></div>\n        <button id="end_game_textbook">Back to TextBook</button>\n        <button id="end_game_mainmenu">Back to Menu</button>\n        <button id="end_game_nextPage">To the next page</button>\n    </div>\n    <div class="end_audio_info">\n    The completed pages in the textbook are over!<br>\n    Back to Menu or Text Book for play again    \n    </div>\n    </div>\n  </section>`,(0,i.addListnersAudioGame)(o),i.indexVariant.length=0}))},917:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function s(e){try{d(o.next(e))}catch(e){i(e)}}function r(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.checkBonus=t.addDOMVariables=t.massPoint=void 0;let o,a,i,s,r=0,d=0;t.massPoint=[];let c,l,u,g,p,v,m=!1;function h(){const e=i;switch(!0){case r>=0&&r<4:i=10;break;case r>=4&&r<7:i=20,c.classList.add("active");break;case r>=7&&r<9:i=40,l.classList.add("active");break;case 10===r:i=80,u.classList.add("active")}e<i&&function(){n(this,void 0,void 0,(function*(){v.src="../src/assets/audio/bonus.mp3",v.play()}))}()}t.addDOMVariables=function(){o=document.querySelectorAll(".bonus_circle"),g=document.querySelectorAll(".bonus_icon"),a=document.querySelector(".total_score"),s=document.querySelector(".bonus_size"),c=document.querySelector(".big"),l=document.querySelector(".boom"),u=document.querySelector(".flash"),p=document.querySelector("#answer_sound"),v=document.querySelector("#answer_bonus"),m=!0},t.checkBonus=function(e){e?(10!==r&&(r+=1,h(),function(){switch(r%o.length){case 0:o[2].classList.add("active");break;case 1:o.forEach((e=>e.classList.remove("active"))),o[0].classList.add("active");break;case 2:o[1].classList.add("active")}}(),10===r&&(o[0].classList.add("max"),o[1].classList.add("active"),o[2].classList.add("max"))),d+=i):(r=0,h(),o.forEach((e=>{e.classList.remove("active"),e.classList.remove("max")})),g.forEach((e=>{e.classList.remove("active")}))),r<4?s.classList.remove("active"):s.classList.add("active"),function(e){n(this,void 0,void 0,(function*(){e?(p.src="../src/assets/audio/right2.mp3",p.play()):(p.src="../src/assets/audio/wrong2.mp3",p.play())}))}(e),s.innerHTML=`+${i} очков за слово`,a.innerHTML=`${d}`,t.massPoint.length=0,t.massPoint.push(d)}},388:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function s(e){try{d(o.next(e))}catch(e){i(e)}}function r(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.checkAnsw=t.checkAuthSprint=t.gameTimer=t.createSprintResult=t.createMassFalse=t.trueAnsw=t.falseAnsw=t.answerVariant=t.randomDiap=t.sprintDefaultIndex=t.answersTextBook=t.answers=void 0;const a=n(917),i=n(120),s=n(332);t.answers=[],t.answersTextBook=[];let r,d,c,l=[],u=[],g=0,p=0,v=0,m=0,h=0;function f(e,t){return Math.floor(Math.random()*(t-e+1))+e}function _(){return o(this,void 0,void 0,(function*(){return 1===Math.round(Math.random())?(r=!0,t.answers[g].wordTranslate):(r=!1,u[f(0,19)].wordTranslate)}))}function b(){return o(this,void 0,void 0,(function*(){const e=document.querySelector(".engl_word"),n=document.querySelector(".translate_engl_word");e.textContent=t.answers[g].word,n.textContent=yield _()}))}function y(){return o(this,void 0,void 0,(function*(){const e=document.querySelector(".answ_result_false");e.classList.add("click"),e.ontransitionend=function(){e.classList.remove("click")}}))}function S(){return o(this,void 0,void 0,(function*(){const e=document.querySelector(".answ_result_right");e.classList.add("click"),e.ontransitionend=function(){e.classList.remove("click")}}))}function w(e,t){return o(this,void 0,void 0,(function*(){u=e<5?yield(0,s.getWordsMiniGame)(e+1,t):yield(0,s.getWordsMiniGame)(e-1,t)}))}function k(e,t){return o(this,void 0,void 0,(function*(){if(t-1>=0){i.groupPage[0].page=t-1;const n=t-1;return l=localStorage.getItem("userData")?yield(0,s.buildMassSprint)(e,n):yield(0,s.getWordsMiniGame)(e,n),0===l.length&&(yield k(e,n)),n}return!1}))}function x(){return o(this,void 0,void 0,(function*(){const e=document.querySelector(".wrapper_end_game"),t=document.querySelector(".sprint_minigame"),n=document.querySelector(".end_game_score"),o=document.querySelector(".end_game_total"),i=document.querySelector(".end_game_series"),r=document.querySelector(".end_game_percent");t.classList.add("block"),e.classList.add("active"),n.innerHTML=`Score: ${a.massPoint[0]}`,o.innerHTML=`Total number of words: ${m}`,i.innerHTML=`Best right-series:  ${p}`;const d=(h/m*100).toFixed(1);r.innerHTML=m>0?`Answered correctly:  ${d}%`:"Answered correctly:  0",yield(0,s.checkGetUserStatus)(d,p)}))}function L(){return o(this,void 0,void 0,(function*(){const{page:e}=i.groupPage[0],{group:n}=i.groupPage[0];if(g<t.answers.length-1)g+=1,b();else{g=0,t.answers.length=0;const a=yield k(n,e);"number"==typeof a?(yield function(e,n){return o(this,void 0,void 0,(function*(){(yield(0,s.buildMassSprint)(e,n)).map((e=>t.answers.push(e))),yield w(e,n),b()}))}(n,a),yield b()):(x(),c.pause(),clearTimeout(d))}}))}function A(e,n){return o(this,void 0,void 0,(function*(){localStorage.getItem("userData")&&(e===n?(0,s.checkGetWordStatus)(i.groupPage[0].group,i.groupPage[0].page,t.answers[g].id,!0).catch((e=>o(this,void 0,void 0,(function*(){e.status})))):(0,s.checkGetWordStatus)(i.groupPage[0].group,i.groupPage[0].page,t.answers[g].id,!1).catch((e=>o(this,void 0,void 0,(function*(){e.status})))))}))}t.sprintDefaultIndex=function(){g=0,p=0,m=0,h=0,u.length=0,t.answers.length=0,i.startFlag.length=0,i.gameFlag.length=0},t.randomDiap=f,t.answerVariant=_,t.falseAnsw=y,t.trueAnsw=S,t.createMassFalse=w,t.createSprintResult=x,t.gameTimer=function(){return o(this,void 0,void 0,(function*(){const e=document.querySelector(".timer_value");c=document.querySelector("#game_timer"),c.play(),d=setTimeout((function t(){c.currentTime<c.duration?(e.textContent=`${Math.round(c.duration-c.currentTime)}`,d=setTimeout(t,1e3)):(clearTimeout(d),x())}),1e3)}))},t.checkAuthSprint=A,t.checkAnsw=function(e){return o(this,void 0,void 0,(function*(){r===e?(S(),(0,a.checkBonus)(!0),h+=1,p+=1):(v=v<p?p:v,p=0,(0,a.checkBonus)(!1),y()),m+=1,i.startFlag[0]?(yield function(){return o(this,void 0,void 0,(function*(){const{page:e}=i.groupPage[0],{group:n}=i.groupPage[0];if(g<19)g+=1;else{g=0,t.answers.length=0;const o=function(e){return e<29?e+1:0}(e);(yield(0,s.getWordsMiniGame)(n,o)).map((e=>t.answers.push(e))),yield w(n,o)}}))}(),b()):(A(r,e),document.querySelectorAll(".answ_btn").forEach((e=>{e.disabled=!0})),yield L().then((()=>{document.querySelectorAll(".answ_btn").forEach((e=>{e.disabled=!1}))})))}))}},677:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baseUrl=t.bodyHtml=void 0,t.bodyHtml=document.querySelector(".body"),t.baseUrl="https://alexrslangproject.herokuapp.com"},790:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function s(e){try{d(o.next(e))}catch(e){i(e)}}function r(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.renderHTMLStructure=void 0;const a=n(677),i=n(510),s=n(385),r=n(188),d=n(651),c=n(354);t.renderHTMLStructure=()=>o(void 0,void 0,void 0,(function*(){a.bodyHtml.innerHTML="";const e=document.createElement("header");e.classList.add("header");const t=document.createElement("main");t.classList.add("main");const n=document.createElement("footer");n.classList.add("footer"),a.bodyHtml.append(e),a.bodyHtml.append(t),a.bodyHtml.append(n)})),(0,t.renderHTMLStructure)().then((()=>o(void 0,void 0,void 0,(function*(){const e=document.querySelector(".header");e.innerHTML="",e.innerHTML='<h1 class="header-current"></h1>\n    <div class="burger"></div>\n    <nav class="header-nav">\n      <button class="nav-btn nav-home">Home</button>\n      <button class="nav-btn nav-textbook">TextBook</button>\n      <button class="nav-btn nav-games">Games</button>\n      <button class="nav-btn nav-statistics">Statistics</button>\n      <button class="nav-btn nav-developers">About App</button>\n      <button class="nav-mode"></button>    \n    </nav>     \n  '})))).then((()=>o(void 0,void 0,void 0,(function*(){const e=document.querySelector(".burger"),t=document.querySelector(".header-nav");e.addEventListener("click",(()=>{e.classList.toggle("_active"),t.classList.toggle("_active")}))})))).then((()=>o(void 0,void 0,void 0,(function*(){document.querySelector(".nav-home").addEventListener("click",(()=>{localStorage.setItem("currentPage","Home"),document.querySelector(".header-current").innerHTML="Home",(0,i.homePage)()}))})))).then((()=>o(void 0,void 0,void 0,(function*(){document.querySelector(".nav-textbook").addEventListener("click",(()=>{document.querySelector(".main").innerHTML="\n    ",localStorage.setItem("currentPage","Textbook"),document.querySelector(".header-current").innerHTML="Textbook",(0,r.renderTextbookPage)()}))})))).then((()=>o(void 0,void 0,void 0,(function*(){document.querySelector(".nav-games").addEventListener("click",(()=>{document.querySelector(".main").innerHTML="\n    ",localStorage.setItem("currentPage","Games"),document.querySelector(".header-current").innerHTML="Games",(0,d.renderGamesPage)()}))})))).then((()=>o(void 0,void 0,void 0,(function*(){document.querySelector(".nav-statistics").addEventListener("click",(()=>{localStorage.setItem("currentPage","Statistics"),document.querySelector(".header-current").innerHTML="Statistics",(0,c.renderStatisticsPage)()}))})))).then((()=>o(void 0,void 0,void 0,(function*(){document.querySelector(".nav-developers").addEventListener("click",(()=>{localStorage.setItem("currentPage","About App"),document.querySelector(".header-current").innerHTML="About App",(0,s.aboutAppPage)()}))})))).then((()=>o(void 0,void 0,void 0,(function*(){const e=document.querySelector(".nav-mode");e.addEventListener("click",(()=>{null===localStorage.getItem("nightMode")?(localStorage.setItem("nightMode","nightMode"),e.classList.add("_night-mode"),a.bodyHtml.classList.add("_night-mode")):(localStorage.removeItem("nightMode"),e.classList.remove("_night-mode"),a.bodyHtml.classList.remove("_night-mode"))}))})))).then((()=>o(void 0,void 0,void 0,(function*(){const e=document.querySelector(".footer");e.innerHTML="",e.innerHTML='<div class="footer-rsschool">\n    <a href="https://rs.school/js/" target="_Blank"\n      ><div class="footer-rsschool_svg"></div\n    ></a>\n  </div>      \n  <div class="footer-github">\n    <a href="https://github.com/ArturZabashta" target="_Blank">\n      Artur\n      <div class="my-github"></div>\n    </a>\n    <div class="footer-github_logo"></div>\n    <a href="https://github.com/AlexeyZabashta" target="_Blank">\n      Alexey\n      <div class="my-github"></div>\n    </a>\n  </div>\n  <div class="footer-copyright">© 2022</div>   \n  '})))),window.addEventListener("load",(()=>o(void 0,void 0,void 0,(function*(){localStorage.getItem("currentPage")?("Home"===localStorage.getItem("currentPage")&&(0,i.homePage)(),"Textbook"===localStorage.getItem("currentPage")&&(0,r.renderTextbookPage)(),"Games"===localStorage.getItem("currentPage")&&(0,d.renderGamesPage)(),"About App"===localStorage.getItem("currentPage")&&(0,s.aboutAppPage)(),"Statistics"===localStorage.getItem("currentPage")&&(0,c.renderStatisticsPage)(),"About App"===localStorage.getItem("currentPage")&&(0,s.aboutAppPage)(),"nightMode"===localStorage.getItem("nightMode")&&(document.querySelector(".nav-mode").classList.add("_night-mode"),a.bodyHtml.classList.add("_night-mode"))):(0,i.homePage)();const e=document.querySelector(".header-current");e.innerHTML="Statistics",localStorage.getItem("currentPage")?("Home"===localStorage.getItem("currentPage")&&(e.innerHTML=""),"Textbook"===localStorage.getItem("currentPage")&&(e.innerHTML="Textbook"),"Games"===localStorage.getItem("currentPage")&&(e.innerHTML="Games"),"Statistics"===localStorage.getItem("currentPage")&&(e.innerHTML="Statistics"),"About App"===localStorage.getItem("currentPage")&&(e.innerHTML="About App")):e.innerHTML=""}))))},385:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function s(e){try{d(o.next(e))}catch(e){i(e)}}function r(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.aboutAppPage=void 0,t.aboutAppPage=()=>n(void 0,void 0,void 0,(function*(){const e=document.querySelector(".main");e.innerHTML="",e.innerHTML='<section class="developers">\n      <h2 class="developers-title">Our team</h2>\n      <div class="developers-wrapper">\n        <div class="developer">\n          <h3 class="developer-subtitle">Alexey Zabashta</h3>\n          <p class="developer-role">Frontend developer</p>\n          <p class="developer-work">Created and configured a copy of the back-end, \n            created a repository, wrote code for the Audiocall \n            and Sprint games, statistics page.\n          </p>\n        </div>\n        <div class="developer">\n\n          <h3 class="developer-subtitle">Artur Zabashta</h3>\n          <p class="developer-role">Frontend developer</p>\n          <p class="developer-work">Designed layout of the application, made main page, \n            login form, TextBook page and dictionary.\n          </p>\n        </div>\n      </div>\n    </section>\n    '}))},651:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function s(e){try{d(o.next(e))}catch(e){i(e)}}function r(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.renderGamesPage=void 0;const a=n(120),i=n(388);let s,r;t.renderGamesPage=function(){return o(this,void 0,void 0,(function*(){document.querySelector(".main").innerHTML='\n  <section class="game_page_wrapper">\n    <div class="choose_game">\n      <div class="game_page_audio">Start Audio Game</div>\n      <div class="game_page_sprint">Start Sprint Game</div>\n    </div>\n    <div class="choose_group">\n      <h2 class="choose_group_h2">Choose group to Start</h2>\n      <div class="choose_group_content">\n        <div class="choose_group_num group_num1">1</div>\n        <div class="choose_group_num group_num2">2</div>\n        <div class="choose_group_num group_num3">3</div>\n        <div class="choose_group_num group_num4">4</div>\n        <div class="choose_group_num group_num5">5</div>\n        <div class="choose_group_num group_num6">6</div>\n      </div>  \n    </div>      \n  </section>\n  ',function(){o(this,void 0,void 0,(function*(){const e=document.querySelector(".choose_game"),t=document.querySelector(".game_page_audio"),n=document.querySelector(".game_page_sprint"),o=document.querySelector(".choose_group");t.addEventListener("click",(()=>{s=!1,o.classList.add("active"),e.classList.add("block")})),n.addEventListener("click",(()=>{s=!0,o.classList.add("active"),e.classList.add("block")})),o.addEventListener("click",(e=>{if(e.target.classList.contains("choose_group_num")){const t=document.querySelector(".main");r=Number(e.target.classList[1].slice(9)),t.innerHTML="",(0,a.startMiniGame)(s,!0,r,(0,i.randomDiap)(0,29))}}))}))}()}))}},510:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function s(e){try{d(o.next(e))}catch(e){i(e)}}function r(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.homePage=void 0;const a=n(385),i=n(188),s=n(354),r=n(651),d=n(592);t.homePage=()=>o(void 0,void 0,void 0,(function*(){const e=document.querySelector(".main");e.innerHTML="",e.innerHTML='<section class="home">\n  <button class="header-login_btn"></button>\n    <div class="header-login_block"></div>\n  <div class="home-wrapper">\n    <div class="home-intro home-article">\n      <h2 class="home-intro_title">RS Lang</h2>\n      <div class="home-intro_subtitle">\n        RS Lang is an application designed to help you with mastering \n        the English language. Regular lessons with this application \n        will help you expand your language base. \n        To get access to the full functionality of the application, \n        we recommend that you go through a quick registration process. \n      </div>\n    </div>\n\n    <div class="home-textbook home-article">\n      <h2 class="home-textbook_title">TextBook</h2>\n      <div class="home-textbook_subtitle">\n        With TextBook you can gradually learn words section by section, \n        practice correct pronunciation, get acquainted with examples of word usage \n        in different contexts.  \n      </div>\n    </div>\n\n    <div class="home-games home-article">\n      <h2 class="home-games_title">Games</h2>\n      <div class="home-games_subtitle">\n        Do you think learning English is boring?<br> \n        How about learning by playing? \n        There are two games to choose from.<br> \n        Audio Challenge - try to guess a word by ear.<br> \n        Sprint - become the fastest, guessing words visually. \n      </div>\n    </div>\n\n    <div class="home-statistics home-article">\n      <h2 class="home-statistics_title">Statistics</h2>\n      <div class="home-statistics_subtitle">\n        Keep track of your learning progress \n        in the special section Statistics\n      </div>\n    </div>\n\n    <div class="home-developers home-article">\n      <h2 class="home-developers_title">About App</h2>\n      <div class="home-developers_subtitle">\n        Meet the app development team\n      </div>\n    </div>\n  </div>\n  \n  </section>\n  ',document.querySelector(".home-textbook").addEventListener("click",(()=>{localStorage.setItem("currentPage","Textbook"),document.querySelector(".header-current").innerHTML="TextBook",(0,i.renderTextbookPage)()})),document.querySelector(".home-games").addEventListener("click",(()=>{localStorage.setItem("currentPage","Games"),document.querySelector(".header-current").innerHTML="Games",(0,r.renderGamesPage)()})),document.querySelector(".home-statistics").addEventListener("click",(()=>{localStorage.setItem("currentPage","Statistics"),document.querySelector(".header-current").innerHTML="Statistics",(0,s.renderStatisticsPage)()})),document.querySelector(".home-developers").addEventListener("click",(()=>{localStorage.setItem("currentPage","About App"),document.querySelector(".header-current").innerHTML="About App",(0,a.aboutAppPage)()}));const t=document.querySelector(".header-login_btn");t.addEventListener("click",(()=>{(0,d.renderLoginWindow)()})),localStorage.getItem("userData")?t.classList.add("_logged"):t.classList.remove("_logged")}))},592:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function s(e){try{d(o.next(e))}catch(e){i(e)}}function r(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.renderLoginWindow=void 0;const a=n(677);t.renderLoginWindow=()=>o(void 0,void 0,void 0,(function*(){console.log("Отрисовываю окно LogIn");let e="";if(null!==localStorage.getItem("userData")){const t=yield String(localStorage.getItem("userData"));e=JSON.parse(t).name}console.log("userName",e);const t=document.querySelector(".header-login_block");t.innerHTML=`<div class="login-window">\n        <div class="login-exit">\n            <button class="login-exit_btn"></button>\n        </div>\n        <h4 class="login-head"> Please Log in, or register <br> if your first time in RS Lang </h4>\n        <h4 class="logout-head"> Hello,  \n          <span class="login-username">${e} !</span> <br> You are logged in </h4>  \n        <form class="login-form">\n          <input class="login-input _name" \n            type="text"\n            name="_name"\n            id="_name"\n            minlength="2"\n            maxlength="20"           \n            placeholder="Input login"\n            autocomplete="off"\n            data-reg="^[a-zA-Z][a-zA-Z0-9-_]{1,20}$"         \n          />\n          <div class="lable_name">\n            Login should contain 2-20 Latin letters, \n            numbers, symbols and characters\n          </div>\n              \n          <input class="login-input _email" \n            type="text"\n            name="_email"\n            id="_email"           \n            placeholder="Input email"\n            autocomplete="off"\n            data-reg="^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$"          \n          />\n          <div class="lable_email">\n            Email must match the sample username@userbox.com\n          </div>\n\n          <input class="login-input _password" \n            type="password"\n            name="_password"\n            id="_password" \n            minlength="8"\n            maxlength="20"         \n            placeholder="Input password"\n            autocomplete="off"\n            data-reg="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^0-9a-zA-Z]).{8,15}$"    \n          />\n          <div class="lable_password">\n            Password must contain Latin letters \n            (at least one capital letter), \n            numbers, and special characters #$/?&%@\n          </div>\n        </form>  \n        <div class="login-btn_wrapper">\n            <button class="login-btn sign-in">\n                 Log in \n            </button>\n            <button class="login-btn log-out">\n                 Log out \n            </button>      \n            <p class="notReg">Are not yet registered?</p>        \n            <button class="login-btn registration">\n                Registration \n            </button>\n        </div>\n        <div class="login-error"></div>       \n    </div> \n    `,t.style.display="flex",t.style.opacity="1",t.style.visibility="visible",document.querySelector(".login-exit_btn").addEventListener("click",(()=>{t.style.opacity="0",t.style.visibility="hidden"}));const n=document.querySelector(".login-head"),i=document.querySelector(".logout-head"),s=document.querySelector(".login-username"),r=document.querySelector("._name"),d=document.querySelector("._email"),c=document.querySelector("._password"),l=document.querySelector(".login-error"),u=document.querySelector(".sign-in"),g=document.querySelector(".log-out"),p=document.querySelector(".registration"),v=document.querySelector(".notReg");u.addEventListener("mouseover",(()=>{p.classList.add("_not-hover"),r.classList.add("_not-hover")})),u.addEventListener("mouseout",(()=>{p.classList.remove("_not-hover"),r.classList.remove("_not-hover")})),p.addEventListener("mouseover",(()=>{u.classList.add("_not-hover")})),p.addEventListener("mouseout",(()=>{u.classList.remove("_not-hover")})),document.querySelector(".login-form").addEventListener("input",(function(e){const t=e.target;t.hasAttribute("data-reg")&&(e=>{const t=e.value,n=e.getAttribute("data-reg");new RegExp(String(n)).test(t)?(e.style.border="2px solid var(--border)",e.style.color="var(--border)",e.style.backgroundColor="var(--white)",e.classList.add("_validated")):(e.style.border="2px solid var(--red)",e.style.color="var(--black)",e.style.backgroundColor="var(--light-red)",e.classList.remove("_validated"))})(t)})),u.addEventListener("click",(()=>o(void 0,void 0,void 0,(function*(){var e,t;d.classList.contains("_validated")&&c.classList.contains("_validated")?(e=String(d.value),t=String(c.value),o(void 0,void 0,void 0,(function*(){const o={email:e,password:t},r=yield fetch(`${a.baseUrl}/signin`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)}),d=yield r.json();document.querySelector(".header-login_btn").classList.add("_logged"),localStorage.setItem("userData",JSON.stringify(d)),localStorage.getItem("userData")?(u.classList.add("_logged"),g.classList.add("_logged"),p.classList.add("_logged"),v.classList.add("_logged"),n.classList.add("_logged"),i.classList.add("_logged"),s.classList.add("_logged")):(u.classList.remove("_logged"),g.classList.remove("_logged"),p.classList.remove("_logged"),v.classList.remove("_logged"),n.classList.remove("_logged"),i.classList.remove("_logged"),s.classList.remove("_logged"))})),l.style.opacity="0"):(l.innerHTML="Log in or register if you don't have an account yet",l.style.opacity="1")})))),p.addEventListener("click",(()=>{var e,t,n;r.classList.contains("_validated")&&d.classList.contains("_validated")&&c.classList.contains("_validated")?(e=String(r.value),t=String(d.value),n=String(c.value),o(void 0,void 0,void 0,(function*(){const o={name:e,email:t,password:n},i=yield fetch(`${a.baseUrl}/users`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)});yield i.json()})),l.style.opacity="0"):(l.innerHTML="Log in or register if you don't have an account yet",l.style.opacity="1")})),localStorage.getItem("userData")?(u.classList.add("_logged"),g.classList.add("_logged"),p.classList.add("_logged"),v.classList.add("_logged"),n.classList.add("_logged"),i.classList.add("_logged"),s.classList.add("_logged")):(u.classList.remove("_logged"),g.classList.remove("_logged"),p.classList.remove("_logged"),v.classList.remove("_logged"),n.classList.remove("_logged"),i.classList.remove("_logged"),s.classList.remove("_logged")),g.addEventListener("click",(()=>o(void 0,void 0,void 0,(function*(){localStorage.removeItem("userData"),localStorage.getItem("userData")?(u.classList.add("_logged"),g.classList.add("_logged"),p.classList.add("_logged"),v.classList.add("_logged"),n.classList.add("_logged"),i.classList.add("_logged"),s.classList.add("_logged")):(u.classList.remove("_logged"),g.classList.remove("_logged"),p.classList.remove("_logged"),v.classList.remove("_logged"),n.classList.remove("_logged"),i.classList.remove("_logged"),s.classList.remove("_logged"))}))))}))},354:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function s(e){try{d(o.next(e))}catch(e){i(e)}}function r(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.renderStatisticsPage=void 0;const a=n(332);t.renderStatisticsPage=()=>o(void 0,void 0,void 0,(function*(){const e=document.querySelector(".main");e.innerHTML="",e.innerHTML=`<section class="statistics_page">\n  <section class="stat_words stat_section">\n    <h2>Words Statistic</h2>\n    <span id="new_words_all" class="span_stat">New words:${yield(0,a.getAggrWordsUserGeneral)(0)}</span>\n    <span id="weak_words" class="span_stat">Learned words:${yield(0,a.getAggrWordsUserGeneral)(1)}</span>\n    <span id="perc_date" class="span_stat">Answered correctly:</span>\n    <button id="getStat">getStat</button>\n    <button id="putStat">putStat</button>\n    <button id="testStat">testStat</button>\n  </section>\n  <section class="stat_sprint stat_section">\n    <h2>Sprint Statistic</h2>\n    <span id="new_words_sprint" class="span_stat">New words:${yield(0,a.getAggrWordsUserGeneral)(2)}</span>\n    <span id="perc_date_sprint" class="span_stat">Answered correctly:</span>\n    <span id="best_series_sprint" class="span_stat">Best series:</span>\n  </section>\n  <section class="stat_audio stat_section">\n    <h2>Audio Statistic</h2>\n    <span id="new_words_audio" class="span_stat">New words:${yield(0,a.getAggrWordsUserGeneral)(3)}</span>\n    <span id="perc_date_audio" class="span_stat">Answered correctly:</span>\n    <span id="best_series_audio" class="span_stat">Best series:</span>    \n  </section>      \n</section> \n    `,document.querySelector("#getStat").addEventListener("click",a.getUserStat),document.querySelector("#testStat").addEventListener("click",(()=>(0,a.getAggrWordsUserGeneral)(1)))}))},188:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function s(e){try{d(o.next(e))}catch(e){i(e)}}function r(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextbookPage=t.getWords=void 0;const a=n(677),i=n(120);t.getWords=()=>o(void 0,void 0,void 0,(function*(){let e=0,t=0;localStorage.getItem("group")&&(e=Number(localStorage.getItem("group"))),localStorage.getItem("groupPage")&&(t=Number(localStorage.getItem("groupPage"))),null===localStorage.getItem("group")&&localStorage.setItem("group","0"),null===localStorage.getItem("groupPage")&&localStorage.setItem("groupPage","0");const n=yield fetch(`${a.baseUrl}/words?page=${t}&group=${e}`,{method:"GET"});return yield n.json()}));const s=()=>o(void 0,void 0,void 0,(function*(){if(null!==localStorage.getItem("userData")){const e=yield String(localStorage.getItem("userData")),t=JSON.parse(e),{userId:n}=t,o=t.token,i=yield fetch(`${a.baseUrl}/users/${n}/aggregatedWords?filter={"userWord.difficulty":"hard"}&wordsPerPage=3600`,{method:"GET",headers:{Authorization:`Bearer ${o}`,Accept:"application/json","Content-Type":"application/json"}}),s=yield i.json();return yield s[0].paginatedResults}return!1}));s().catch((e=>o(void 0,void 0,void 0,(function*(){alert("You need to log in again!!!\n\n Go to the Home page and login, or continue as an Anonymous user"),localStorage.removeItem("userData"),window.location.reload()}))));const r=()=>o(void 0,void 0,void 0,(function*(){if(null!==localStorage.getItem("userData")){const e=yield String(localStorage.getItem("userData")),t=JSON.parse(e),{userId:n}=t,o=t.token;let i=0,s=0;localStorage.getItem("group")&&(i=Number(localStorage.getItem("group"))),localStorage.getItem("groupPage")&&(s=Number(localStorage.getItem("groupPage")));const r=yield fetch(`${a.baseUrl}/users/${n}/aggregatedWords?&filter={"$and":[{"group": ${i}},{"page": ${s}},{"$or":[{"userWord.difficulty":"hard"},{"userWord.difficulty":"weak"}]}]}&wordsPerPage=20`,{method:"GET",headers:{Authorization:`Bearer ${o}`,Accept:"application/json","Content-Type":"application/json"}}),d=yield r.json();return yield d[0].paginatedResults}return!1}));r().catch((e=>o(void 0,void 0,void 0,(function*(){alert("You need to log in again!!!\n\n Go to the Home page and login, or continue as an Anonymous user"),localStorage.removeItem("userData"),window.location.reload()}))));const d=e=>o(void 0,void 0,void 0,(function*(){const t=document.querySelectorAll(".textbook-play[data-audioplay]");t.forEach(((e,t)=>o(void 0,void 0,void 0,(function*(){e.disabled=!0}))));const n=document.querySelector(".textbook-player"),i=yield fetch(`${a.baseUrl}/words/${e}`,{method:"GET"}),s=yield i.json(),r=[`${a.baseUrl}/${s.audio}`,`${a.baseUrl}/${s.audioExample}`,`${a.baseUrl}/${s.audioMeaning}`];n.src=`${a.baseUrl}/${s.audio}`;let d=0;!function e(){n.play();const a=setInterval((()=>{var i;n.currentTime===n.duration&&d<r.length-1?(d++,i=d,n.src=`${r[i]}`,n.currentTime=0,e()):n.currentTime===n.duration&&d===r.length-1&&(n.pause(),clearInterval(a),t.forEach(((e,t)=>o(this,void 0,void 0,(function*(){e.disabled=!1,e.style.opacity="0.1"})))))}),200)}()}));t.renderTextbookPage=()=>o(void 0,void 0,void 0,(function*(){const e=Number(localStorage.getItem("group"))+1,n=yield(0,t.getWords)();let c;c=null===localStorage.getItem("userData")?"_unlogged":"",document.querySelector(".main").innerHTML=`<section class="textbook">\n    <div class="textbook-wrapper">\n      <div class="textbook-headbtns_wrapper">\n        <div class="textbook-pagination">\n          <button class="textbook-prev_btn"></button>\n          <select name="textbook-select" id="textbook-select">            \n          </select>\n          <button class="textbook-nex_tbtn"></button>\n        </div> \n          <button class="textbook-audio_btn"></button>\n          <button class="textbook-sprint_btn"></button>                 \n      </div>         \n      <div class="textbook-list_wrapper">\n        <div class="textbook-list"></div>\n      </div>\n      <div class="textbook-group">\n        <button class="textbook-group_btn" data-group="0">1</button>          \n        <button class="textbook-group_btn" data-group="1">2</button>\n        <button class="textbook-group_btn" data-group="2">3</button>\n        <button class="textbook-group_btn" data-group="3">4</button>\n        <button class="textbook-group_btn" data-group="4">5</button>\n        <button class="textbook-group_btn" data-group="5">6</button>\n        <button class="textbook-group_btn ${c}" data-group="6">7</button>\n      </div>          \n    </div>     \n    <audio class="textbook-player"></audio>\n  </section>\n  `;const l=document.querySelector(".textbook-audio_btn"),u=document.querySelector(".textbook-sprint_btn"),g=document.querySelector(".textbook-prev_btn"),p=document.querySelector(".textbook-nex_tbtn"),v=document.getElementById("textbook-select");let m="";const h=Number(localStorage.getItem("groupPage"));for(let e=0;e<30;e+=1)m+=h===e?`<option value="${e}" selected>${e+1}</option>`:`<option value="${e}">${e+1}</option>`;v.innerHTML=`${m}`;const f=document.querySelector(".textbook-list");if(null===localStorage.getItem("userData")&&n.forEach(((t,n)=>{const o=document.createElement("div");o.classList.add("textbook-item_wrapper"),o.style.boxShadow=`1.75rem 2rem 3rem 1rem var(--group${e})`,o.innerHTML=`<div class="textbook-item">\n      <div class="textbook-item_picture">\n        <img class="textbook-item_img" src=${a.baseUrl}/${t.image}>\n      </div>\n      <div class="textbook-item_article">\n        <span class="textbook-word">${t.word}</span>\n        <span class="textbook-word_transcription">${t.transcription}</span>\n        <span class="textbook-word_translate">${t.wordTranslate}</span>     \n      </div>\n      <div class="textbook-item_article">\n        <span class="textbook-example">${t.textExample}</span>    \n        <span class="textbook-example_translate">${t.textExampleTranslate}</span>\n      </div>\n      <div class="textbook-item_article">\n        <span class="textbook-meaning">${t.textMeaning}</span>\n        <span class="textbook-meaning_translate">${t.textMeaningTranslate}</span>\n      </div>\n      <div class="textbook-item_article ${c}">\n        <button class="textbook-play" data-audioplay='${t.id}'></button>\n      </div>      \n      <div class="textbook-word_blur"></div>\n      </div>\n      `,f.append(o)})),6!==Number(localStorage.getItem("group"))&&null!==localStorage.getItem("userData")){const t=yield r();null!==localStorage.getItem("userData")&&t&&n.map((e=>{const n=t.findIndex((t=>t._id===e.id));return-1!==n?t[n]:e})).forEach(((t,n)=>{var o,i,s,r,d,c;let l,u,g,p,v,m;l=t.id?t.id:String(t._id),u=(null===(o=null==t?void 0:t.userWord)||void 0===o?void 0:o.optional.trueAnsw)?null===(i=null==t?void 0:t.userWord)||void 0===i?void 0:i.optional.trueAnsw:0,g=(null===(s=null==t?void 0:t.userWord)||void 0===s?void 0:s.optional.falseAnsw)?null===(r=null==t?void 0:t.userWord)||void 0===r?void 0:r.optional.falseAnsw:0,p=(null===(d=null==t?void 0:t.userWord)||void 0===d?void 0:d.difficulty)?null===(c=null==t?void 0:t.userWord)||void 0===c?void 0:c.difficulty:"",v="hard"===p?"_difficult":"",m="weak"===p?"_learned":"";const h=document.createElement("div");h.classList.add("textbook-item_wrapper"),h.style.boxShadow=`1.75rem 2rem 3rem 1rem var(--group${e})`,h.innerHTML=`<div class="textbook-item ${v}${m}" data-item='${l}'>\n      <div class="textbook-item_picture">\n        <img class="textbook-item_img" src=${a.baseUrl}/${t.image}>\n      </div>\n      <div class="textbook-item_article">\n      <span class="textbook-word">${t.word}</span>\n      <span class="textbook-word_transcription">${t.transcription}</span>\n      <span class="textbook-word_translate">${t.wordTranslate}</span>\n      \n      </div>\n      <div class="textbook-item_article">\n      <span class="textbook-example">${t.textExample}</span>    \n      <span class="textbook-example_translate">${t.textExampleTranslate}</span>\n      </div>\n      <div class="textbook-item_article">\n      <span class="textbook-meaning">${t.textMeaning}</span>\n      <span class="textbook-meaning_translate">${t.textMeaningTranslate}</span>\n      </div>\n      <div class="textbook-item_article">\n      <button class="textbook-play" data-audioplay='${l}'></button>\n      <div class="textbook-wordbtns_wrapper">\n        <button class="word-btn learned-word ${m}" data-learned='${l}'>Learn</button>\n        <button class="word-btn difficult-word ${v}" data-difficult='${l}'>Difficult</button>      \n      </div>\n      <div class="textbook-answ_wrapper">\n        <span class="answ-true">true  :${u}</span>\n        <span class="answ-separator"></span>\n        <span class="answ-false">false:${g}</span>\n      </div>\n      </div>\n      <div class="textbook-word_blur"></div>\n      </div>\n      `,f.append(h)}))}if(6===Number(localStorage.getItem("group"))&&null!==localStorage.getItem("userData")){const t=yield s();null!==localStorage.getItem("userData")&&t&&t.forEach(((t,n)=>{var o,i;const s=document.createElement("div");s.classList.add("textbook-item_wrapper"),s.classList.add("_difficult"),s.style.boxShadow=`1.75rem 2rem 3rem 1rem var(--group${e})`,s.dataset.item_id=`${t._id}`,s.innerHTML=`<div class="textbook-item" data-item='${t._id}'>\n      <div class="textbook-item_picture">\n        <img class="textbook-item_img" src=${a.baseUrl}/${t.image}>\n      </div>\n      <div class="textbook-item_article">\n      <span class="textbook-word">${t.word}</span>\n      <span class="textbook-word_transcription">${t.transcription}</span>\n      <span class="textbook-word_translate">${t.wordTranslate}</span>\n      \n      </div>\n      <div class="textbook-item_article">\n      <span class="textbook-example">${t.textExample}</span>    \n      <span class="textbook-example_translate">${t.textExampleTranslate}</span>\n      </div>\n      <div class="textbook-item_article">\n      <span class="textbook-meaning">${t.textMeaning}</span>\n      <span class="textbook-meaning_translate">${t.textMeaningTranslate}</span>\n      </div>\n      <div class="textbook-item_article">\n      <button class="textbook-play" data-audioplay='${t._id}'></button>\n      <div class="textbook-wordbtns_wrapper">\n        <button class="word-btn learned-word" style="display: none" data-learned='${t._id}' disabled>Learn</button>\n        <button class="word-btn difficult-word _delete-word" data-difficult='${t._id}'>Remove</button>      \n      </div>\n      <div class="textbook-answ_wrapper">\n        <span class="answ-true">true  :${null===(o=t.userWord)||void 0===o?void 0:o.optional.trueAnsw}</span>\n        <span class="answ-separator"></span>\n        <span class="answ-false">false:${null===(i=t.userWord)||void 0===i?void 0:i.optional.falseAnsw}</span>\n      </div>\n      </div>\n      <div class="textbook-word_blur"></div>\n      </div>\n      `,f.append(s)})),v.disabled=!0,v.style.opacity="0.3",g.disabled=!0,g.style.opacity="0.3",p.disabled=!0,p.style.opacity="0.3"}const _=e=>o(void 0,void 0,void 0,(function*(){const n=Number(localStorage.getItem("groupPage")),o=Number(localStorage.getItem("group"));let a=n+e;const i=o;a<0&&(a=0),a>29&&(a=29),localStorage.setItem("group",String(i)),localStorage.setItem("groupPage",String(a)),r().then((()=>{(0,t.renderTextbookPage)()}))}));g.addEventListener("click",(()=>{_(-1)})),v.addEventListener("change",(()=>{localStorage.setItem("groupPage",String(v.value)),v.options[v.selectedIndex].selected=!0,(0,t.renderTextbookPage)()})),p.addEventListener("click",(()=>{_(1)}));const b=document.querySelectorAll(".textbook-group_btn[data-group]");if(b.forEach(((e,t)=>o(void 0,void 0,void 0,(function*(){const t=localStorage.getItem("group");e.dataset.group===t?e.classList.add("_selected"):e.classList.remove("_selected")})))),b.forEach(((e,n)=>o(void 0,void 0,void 0,(function*(){const n=localStorage.getItem("group");e.addEventListener("click",(()=>{e.dataset.group===n&&e.classList.add("_selected");const o=Number(e.dataset.group);localStorage.setItem("group",String(o)),localStorage.setItem("groupPage","0"),6===o?s().then((()=>(0,t.renderTextbookPage)())):r().then((()=>{(0,t.renderTextbookPage)()}))}))})))),document.querySelectorAll(".textbook-play[data-audioplay]").forEach(((e,t)=>o(void 0,void 0,void 0,(function*(){e.addEventListener("click",(()=>{const t=String(e.dataset.audioplay);d(t)}))})))),null!==localStorage.getItem("userData")){const e=document.querySelectorAll(".learned-word[data-learned]"),t=document.querySelectorAll(".difficult-word[data-difficult]"),n=(Number(document.querySelector(".answ-true").textContent),Number(document.querySelector(".answ-true").textContent),Number(localStorage.getItem("group"))),s=yield String(localStorage.getItem("userData")),r=JSON.parse(s),{userId:d}=r,c=r.token,g=(e,t)=>o(void 0,void 0,void 0,(function*(){yield fetch(`${a.baseUrl}/users/${d}/words/${e}`,{method:"POST",headers:{Authorization:`Bearer ${r.token}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>o(void 0,void 0,void 0,(function*(){yield e.json()})))).catch((e=>o(void 0,void 0,void 0,(function*(){alert("You need to log in again!!!\n\n Go to the Home page and login, or continue as an Anonymous user"),localStorage.removeItem("userData"),window.location.reload()}))))})),p=(e,t)=>o(void 0,void 0,void 0,(function*(){yield fetch(`${a.baseUrl}/users/${d}/words/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${r.token}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>o(void 0,void 0,void 0,(function*(){const t=yield e.json();console.log(t)})))).catch((e=>o(void 0,void 0,void 0,(function*(){alert("You need to log in again!!!\n\n Go to the Home page and login,\n               or \ncontinue as an Anonymous user"),localStorage.removeItem("userData"),window.location.reload()}))))})),m=(e,t,n,i,s,r)=>o(void 0,void 0,void 0,(function*(){yield fetch(`${a.baseUrl}/users/${d}/words/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}}).then((t=>o(void 0,void 0,void 0,(function*(){if(200===t.status){const o=yield t.json();o.difficulty=n,o.optional.learnDate=r,p(e,{difficulty:n,optional:{group:o.optional.group,groupPage:o.optional.groupPage,trueAnsw:o.optional.trueAnsw,falseAnsw:o.optional.falseAnsw,answSeries:0,learnDate:r,learnGame:o.optional.learnGame}})}else g(e,{difficulty:n,optional:{group:String(i),groupPage:String(s),trueAnsw:0,falseAnsw:0,answSeries:0,learnDate:r,learnGame:"unplayed"}})})))).catch((e=>o(void 0,void 0,void 0,(function*(){console.log("Such a word was not found")}))))})),f=()=>o(void 0,void 0,void 0,(function*(){document.querySelector(".textbook-list_wrapper");const e=document.querySelectorAll(".textbook-item._learned"),t=document.querySelectorAll(".textbook-item._difficult");Number(e.length)+Number(t.length)===20&&"6"!==localStorage.getItem("group")?(a.bodyHtml.classList.add("_learned-page"),v.classList.add("_learned-page"),l.disabled=!0,l.style.opacity="0.2",u.disabled=!0,u.style.opacity="0.2"):(a.bodyHtml.classList.remove("_learned-page"),v.classList.remove("_learned-page"),l.disabled=!1,l.style.opacity="1",u.disabled=!1,u.style.opacity="1")}));f(),e.forEach((e=>o(void 0,void 0,void 0,(function*(){e.addEventListener("click",(()=>o(void 0,void 0,void 0,(function*(){console.log("Нажал Learned");const t=String(e.dataset.learned),o=document.querySelector(`.difficult-word[data-difficult='${t}']`),a=document.querySelector(`.textbook-item[data-item='${t}']`);e.classList.add("_learned"),a.classList.add("_learned"),a.classList.remove("_difficult"),o.classList.remove("_difficult"),f();const i=(new Date).toLocaleDateString();yield m(t,c,"weak",n,h,i).catch((e=>{}))}))))})))),t.forEach(((e,t)=>o(void 0,void 0,void 0,(function*(){e.addEventListener("click",(()=>o(void 0,void 0,void 0,(function*(){console.log("Нажал Dificult");const t=String(e.dataset.difficult),o=document.querySelector(`.learned-word[data-learned='${t}']`),a=document.querySelector(`.textbook-item[data-item='${t}']`);e.classList.add("_difficult"),a.classList.add("_difficult"),a.classList.remove("_learned"),f();const i=(new Date).toLocaleDateString();if(6!==Number(localStorage.getItem("group"))){const e="hard";o.classList.remove("_learned"),yield m(t,c,e,n,h,i).catch((e=>{}))}if(6===Number(localStorage.getItem("group"))){a.classList.add("_removed-item");const e="new";yield m(t,c,e,n,h,i).catch((e=>{}))}}))))})))),u.addEventListener("click",(()=>o(void 0,void 0,void 0,(function*(){const e=Number(localStorage.getItem("group")),t=Number(localStorage.getItem("groupPage"));yield(0,i.startMiniGame)(!0,!1,e,t)})))),l.addEventListener("click",(()=>o(void 0,void 0,void 0,(function*(){const e=Number(localStorage.getItem("group")),t=Number(localStorage.getItem("groupPage"));yield(0,i.startMiniGame)(!1,!1,e,t)}))))}}))},332:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function s(e){try{d(o.next(e))}catch(e){i(e)}}function r(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.checkGetUserStatus=t.createUserStat=t.updateUserStatAudio=t.updateUserStatSprint=t.getUserStat=t.getAggrWordsUserGeneral=t.checkGetWordStatus=t.getWordUserSprint=t.createWordUserSprint=t.updateWordUserSprint=t.buildMassSprint=t.getAggrWordsMiniGame=t.getWordsMiniGame=void 0;const a=n(120);function i(e,t){return o(this,void 0,void 0,(function*(){const n=JSON.parse(String(localStorage.getItem("userData"))),o=yield fetch(`https://alexrslangproject.herokuapp.com/users/${n.userId}/aggregatedWords?&filter={"$and":[{"group": ${e}},{"page": ${t}},{"userWord.difficulty":"weak"}]}&wordsPerPage=20`,{method:"GET",headers:{Authorization:`Bearer ${n.token}`,Accept:"application/json","Content-Type":"application/json"}});return(yield o.json())[0].paginatedResults}))}function s(e,t){return e.diff===t.difficulty?t.optional.learnDate:(new Date).toLocaleDateString()}function r(e,t){return e.diff!==t.difficulty?a.gameFlag[0]?"Sprint":"Audio":t.optional.learnGame}function d(){return o(this,void 0,void 0,(function*(){const e=JSON.parse(String(localStorage.getItem("userData"))),t=yield fetch(`https://alexrslangproject.herokuapp.com/users/${e.userId}/statistics`,{method:"GET",headers:{Authorization:`Bearer ${e.token}`,Accept:"application/json","Content-Type":"application/json"}});return yield t.json()}))}function c(e,t){return t.optional.sprint?(parseInt(e,10)+parseInt(t.optional.sprint.percent,10))/2+"%":e}function l(e,t,n){return o(this,void 0,void 0,(function*(){const o={learnedWords:0,optional:{sprint:{percent:c(e,n),bestSer:t}}},a=JSON.parse(String(localStorage.getItem("userData")));yield fetch(`https://alexrslangproject.herokuapp.com/users/${a.userId}/statistics`,{method:"PUT",headers:{Authorization:`Bearer ${a.token}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)})}))}function u(e,t,n){return o(this,void 0,void 0,(function*(){const o={learnedWords:0,optional:{audio:{percent:c(e,n),bestSer:t}}},a=JSON.parse(String(localStorage.getItem("userData")));yield fetch(`https://alexrslangproject.herokuapp.com/users/${a.userId}/statistics`,{method:"PUT",headers:{Authorization:`Bearer ${a.token}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)})}))}function g(e,t,n){return o(this,void 0,void 0,(function*(){const o=function(e,t,n){return n?{learnedWords:0,optional:{sprint:{percent:e,bestSer:t}}}:{learnedWords:0,optional:{audio:{percent:e,bestSer:t}}}}(e,t,n),a=JSON.parse(String(localStorage.getItem("userData")));yield fetch(`https://alexrslangproject.herokuapp.com/users/${a.userId}/statistics`,{method:"PUT",headers:{Authorization:`Bearer ${a.token}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)})}))}t.getWordsMiniGame=(e,t)=>o(void 0,void 0,void 0,(function*(){const n=yield fetch(`https://alexrslangproject.herokuapp.com/words?page=${t}&group=${e}`,{method:"GET"});return yield n.json()})),t.getAggrWordsMiniGame=i,t.buildMassSprint=function(e,n){return o(this,void 0,void 0,(function*(){const o=yield(0,t.getWordsMiniGame)(e,n),a=yield i(e,n),s=o.filter((e=>(console.log(a),!1===a.some((t=>t.word===e.word))?e:null)));return console.log("buildArr: ",s),s}))},t.updateWordUserSprint=(e,t,n,a,i)=>o(void 0,void 0,void 0,(function*(){const o=function(e,t){const n=e.optional.answSeries+1;return t?"new"===e.difficulty&&3===n||"hard"===e.difficulty&&5===n?{diff:"weak",ser:0}:{diff:e.difficulty,ser:n}:{diff:"hard",ser:0}}(i,a),d={difficulty:o.diff,optional:{group:`${e}`,groupPage:`${t}`,trueAnsw:a?i.optional.trueAnsw+1:i.optional.trueAnsw,falseAnsw:a?i.optional.falseAnsw:i.optional.falseAnsw+1,answSeries:o.ser,learnDate:s(o,i),learnGame:r(o,i)}},c=JSON.parse(String(localStorage.getItem("userData")));yield fetch(`https://alexrslangproject.herokuapp.com/users/${c.userId}/words/${n}`,{method:"PUT",headers:{Authorization:`Bearer ${c.token}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(d)})})),t.createWordUserSprint=(e,t,n,i)=>o(void 0,void 0,void 0,(function*(){const o={difficulty:i?"new":"hard",optional:{group:`${e}`,groupPage:`${t}`,trueAnsw:i?1:0,falseAnsw:i?0:1,answSeries:i?1:0,learnDate:(new Date).toLocaleDateString(),learnGame:a.gameFlag[0]?"Sprint":"Audio"}},s=JSON.parse(String(localStorage.getItem("userData")));yield fetch(`https://alexrslangproject.herokuapp.com/users/${s.userId}/words/${n}`,{method:"POST",headers:{Authorization:`Bearer ${s.token}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)})})),t.getWordUserSprint=e=>o(void 0,void 0,void 0,(function*(){const t=JSON.parse(String(localStorage.getItem("userData"))),n=fetch(`https://alexrslangproject.herokuapp.com/users/${t.userId}/words/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t.token}`,Accept:"application/json","Content-Type":"application/json"}}).catch((e=>{const t=new Error("error 404 userword");console.log("ошибка в запросе",t)}));return yield(yield n).json()})),t.checkGetWordStatus=function(e,n,a,i){return o(this,void 0,void 0,(function*(){(0,t.getWordUserSprint)(a).then((o=>{console.log("Сработал updateUserWord"),(0,t.updateWordUserSprint)(e,n,a,i,o)})).catch((o=>{console.clear();const s=new Error("error 404");console.log("Сработал createUserWord",s),(0,t.createWordUserSprint)(e,n,a,i)}))}))},t.getAggrWordsUserGeneral=function(e){return o(this,void 0,void 0,(function*(){const t=(new Date).toLocaleDateString(),n=[`{"userWord.difficulty":"new"}, {"userWord.optional.learnDate":"${t}"}`,`{"userWord.difficulty":"weak"}, {"userWord.optional.learnDate":"${t}"}`,`{"userWord.difficulty":"new"}, {"userWord.optional.learnDate":"${t}"}, {"userWord.optional.learnGame":"Sprint"}`,`{"userWord.difficulty":"new"}, {"userWord.optional.learnDate":"${t}"}, {"userWord.optional.learnGame":"Audio"}`],o=JSON.parse(String(localStorage.getItem("userData"))),a=yield fetch(`https://alexrslangproject.herokuapp.com/users/${o.userId}/aggregatedWords?&filter={"$and":[${n[e]}]}`,{method:"GET",headers:{Authorization:`Bearer ${o.token}`,Accept:"application/json","Content-Type":"application/json"}}),i=(yield a.json())[0].paginatedResults;return console.log("response getAggrWordsUserGeneral",i.length,i),i.length}))},t.getUserStat=d,t.updateUserStatSprint=l,t.updateUserStatAudio=u,t.createUserStat=g,t.checkGetUserStatus=function(e,t){return o(this,void 0,void 0,(function*(){d().then((n=>{console.log("Сработал updateUserWord"),a.gameFlag[0]?l(e,t,n):u(e,t,n)})).catch((n=>{console.clear();const o=new Error("error 404");console.log("Сработал createUserWord",o),a.gameFlag[0]?g(e,t,!0):g(e,t,!1)}))}))}},834:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function s(e){try{d(o.next(e))}catch(e){i(e)}}function r(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.sprintDOM=void 0;const a=n(388),i=n(917),s=n(510),r=n(188);t.sprintDOM=e=>o(void 0,void 0,void 0,(function*(){document.querySelector(".main").innerHTML=`\n  <section class="wrapper_minigame">\n    <div class="sprint_minigame">\n      <audio id="game_timer" src="../src/assets/audio/timer.mp3"></audio>\n      <audio id="answer_sound"></audio>\n      <audio id="answer_bonus"></audio>\n      <h2 class="total_score">0</h2>\n      <div class="game_content_wrapper">\n        <div class="bonus_carousel_wrapper">\n          <div class="bonus_carousel">\n            <div class="bonus_circle"></div>\n            <div class="bonus_circle"></div>\n            <div class="bonus_circle"></div>\n          </div>\n        <h3 class="bonus_size">очков за слово</h3>        \n      </div>\n      <div class="game_content">\n        <div class="bonus_icon_wrapper">\n          <img src="../src/assets/red.png" class="bonus_icon" id="red">\n          <img src="../src/assets/big.png" class="bonus_icon big" id="big">\n          <img src="../src/assets/boom.png" class="bonus_icon boom" id="boom">\n          <img src="../src/assets/flash.png" class="bonus_icon flash" id="flash">\n        </div>\n        <div class="engl_word">${e}</div>\n        <div class="translate_engl_word">${yield(0,a.answerVariant)()}</div>\n      </div>\n      <div class="answer_wrapper">\n        <button class="answ_btn" id="answ_false">Неверно</button>\n        <button class="answ_btn" id="answ_true">Верно</button>\n      </div>\n      <img class="answ_result_right" src="../src/assets/true2.svg">\n      <img class="answ_result_false" src="../src/assets/false2.svg">\n    </div>  \n    <div class="timer_value">60</div>\n  </div>\n  <div class="wrapper_end_game">\n    <div class="end_game">\n        <div class="end_game_score"></div>\n        <div class="end_game_total"></div>\n        <div class="end_game_series"></div>\n        <div class="end_game_percent"></div>\n        <button id="end_game_textbook">Back to TextBook</button>\n        <button id="end_game_mainmenu">Back to Menu</button>\n    </div>\n  </div>   \n</section>\n`,document.querySelector("#answ_false").addEventListener("click",(()=>(0,a.checkAnsw)(!1))),document.querySelector("#answ_true").addEventListener("click",(()=>(0,a.checkAnsw)(!0))),(0,i.addDOMVariables)(),document.querySelector("#end_game_mainmenu").addEventListener("click",(()=>{(0,s.homePage)(),(0,a.sprintDefaultIndex)()})),document.querySelector("#end_game_textbook").addEventListener("click",(()=>{(0,r.renderTextbookPage)(),(0,a.sprintDefaultIndex)()}))}))}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(235),n(177),n(677),n(790),n(120),console.log("\nДобрый день. \nЕсли у Вас есть возможность - проверьте работу черрез денек-другой :-)\nКак всегда в конце вылезли баги и испортили жизнь...\nСпасибо за понимание.\nУспехов Вам! \n")})();